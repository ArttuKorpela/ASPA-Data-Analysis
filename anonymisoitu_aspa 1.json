[
    {
        "_id": "66f6b30080a524b527d91d45",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 1,
            "data_structure": 1,
            "library": 1,
            "exception_handling": 1
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "HTTavoite.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTTavoite.py\n\nimport numpy\nimport HTTavoiteKirjasto\n\nVIIKKOJA = 14 # Kiintoarvot (config)\nTUNTEJA = 24\nPAIVIA = 7\n\ndef valikko():\n    print(\"Mitä haluat tehdä:\")\n    print(\"1) Lue tiedosto\")\n    print(\"2) Analysoi palautukset\")\n    print(\"3) Tallenna tulokset\")\n    print(\"4) Analysoi opiskelijoiden palautusmäärät\")\n    print(\"5) Analysoi tuntikohtaiset palautukset\")\n    print(\"6) Analysoi aikavälien palautukset\")\n    print(\"0) Lopeta\")\n    while(True):\n        try:\n            valinta = int(input(\"Valintasi: \"))\n            break\n        except Exception:\n            print(\"Anna valinta kokonaislukuna.\")\n    return valinta\n\ndef paaohjelma():\n    lista = [] # Alustukset ja alkutoimenpiteet\n    analyysi = []\n    opiskelijat = {}\n    tehtavat = {}\n\n    while (True):\n        valinta = valikko()\n        if valinta == 1:\n            lista = HTTavoiteKirjasto.Lue(lista)\n        elif valinta == 2:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Analyysi(lista, analyysi)\n        elif valinta == 3:\n            if len(lista) == 0:\n                print(\"Ei tietoja tallennettavaksi, analysoi tiedot ennen tallennusta.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Tallenna(analyysi)\n        elif valinta == 4:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Palautus(lista, opiskelijat, tehtavat)\n        elif valinta == 5:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                tuntimatriisi = numpy.zeros((VIIKKOJA, TUNTEJA), int)\n                HTTavoiteKirjasto.Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA)\n                numpy.delete(tuntimatriisi, numpy.s_[:], None) # Tuhoaa matriisin käytön jälkeen.\n        elif valinta == 6:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                viikkomatriisi = numpy.zeros((VIIKKOJA, PAIVIA), int)\n                HTTavoiteKirjasto.Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA)\n                numpy.delete(viikkomatriisi, numpy.s_[:], None)\n        elif valinta == 0:\n            lista.clear()\n            analyysi.clear()\n            opiskelijat.clear()\n            tehtavat.clear()\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\" + '\\n')\n            print(\"Anna uusi valinta.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n    return None\n\npaaohjelma()\n\n#eof\n"
            },
            {
                "file_name": "HTTavoiteKirjasto.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTPerusKirjasto.py\n\nimport sys\nimport numpy\nimport datetime\n\n__version__ = \"1.2\"\n\nclass TIEDOT():\n    pvm = str\n    optunnus = str\n    tehtava = str\n\nclass TULOKSET():\n    teht = str\n    tehtnro = str\n\ndef Lue(lista):\n    try:\n        lista1 = [] # Tilapäislista\n        lista.clear()  # Tyhjennetään lista ennen lukua.\n        rfile = input(\"Anna luettavan tiedoston nimi: \")\n        luettava = open(rfile, \"r\", encoding=\"utf-8\")\n        luettava.readline()  # Lukee otsikkorivim pois.\n        n = 0  # Ilmoittaa rivimäärän.\n        for rivi in luettava:\n            n = n + 1\n            rivi = rivi.strip()\n            lista1 = rivi.split(';')\n            data = TIEDOT()\n            data.pvm = datetime.datetime.strptime(lista1[0], \"%d-%m-%Y %H:%M:%S\")\n            data.optunnus = lista1[1]\n            data.tehtava = lista1[2]\n            lista.append(data)\n        print(f\"Tiedostosta '{rfile}' luettiin listaan {n} datarivin tiedot.\" + '\\n')\n        luettava.close()\n        lista1.clear()\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{rfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return lista\n\ndef Analyysi(lista, analyysi):\n    lista2 = []\n    lista3 = []\n    analyysi.clear()\n\n    for data in lista:  # Ajetaan tehtäväkohtainen lista.\n        lista2.append(data.tehtava)\n        \n    alkio = lista2[0]\n    k = 0  # Laskee eri tehtävien lm.\n    tn = 0  # Tehtäväkohtainen numero.\n    n = 0  # Rivi-indikaattori\n\n    for rivi in lista2:  # Lasketaan tehtäväkohtainen data listaan.\n        n = n + 1\n        if alkio != rivi:\n            tulos = TULOKSET()\n            tulos.teht = alkio\n            tulos.tehtnro = tn\n            lista3.append(tulos)\n            alkio = rivi\n            k = k + 1\n            tn = 0\n        if n == len(lista2):\n            tulos = TULOKSET()\n            tulos.teht = (lista2[n-1])\n            tulos.tehtnro = tn + 1\n            lista3.append(tulos)\n            k = k + 1\n        else:\n            tn = tn + 1\n\n    for rivi in lista3:  # Ääriarvovertailun pohjatiedot\n        suurin = rivi.tehtnro\n        pienin = rivi.tehtnro\n        suurinteht = rivi.teht\n        pieninteht = rivi.teht\n        break\n\n    for rivi in lista3:  \n        if rivi.tehtnro > suurin: # Suuremmuusvertailu.\n            suurin = rivi.tehtnro\n            suurinteht = rivi.teht\n        if rivi.tehtnro < pienin: # Pienemmyysvertailu.\n            pienin = rivi.tehtnro\n            pieninteht = rivi.teht\n\n    # Viimeistelty analyysi\n    analyysi.append(f\"Palautuksia tuli yhteensä {len(lista2)}, {k} eri tehtävään.\")\n    analyysi.append(f\"Viikkotehtäviin tuli keskimäärin {int(len(lista2) / k)} palautusta.\")\n    analyysi.append(f\"Eniten palautuksia, {suurin}, tuli viikkotehtävään {suurinteht}.\")\n    analyysi.append(f\"Vähiten palautuksia, {pienin}, tuli viikkotehtävään {pieninteht}.\")\n    analyysi.append(\"\")\n    analyysi.append(\"Tehtävä;Lukumäärä\")\n    for rivi in lista3:\n        analyysi.append(f\"{rivi.teht};{rivi.tehtnro}\")\n\n    print(f\"Analysoitu {len(lista2)} palautusta {k} eri tehtävään.\")\n    print(\"Tilastotiedot analysoitu.\" + '\\n')\n    lista2.clear()\n    lista3.clear()\n    print(\"Anna uusi valinta.\")\n    return analyysi\n\ndef Tallenna(analyysi):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        for rivi in analyysi:\n            kirjoitettava.write(rivi + '\\n')\n            print(rivi)\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef Palautus(lista, opiskelijat, tehtavat):\n    for data in lista: # Laskee opiskelijakohtaisen palautusmäärän\n        if data.optunnus not in opiskelijat:\n            opiskelijat[data.optunnus] = 1\n        else:\n            opiskelijat[data.optunnus] += 1\n    for i in range(0,61):\n        tehtavat[i] = 0\n    for n in opiskelijat.values():\n        tehtavat[n] += 1\n    print(\"Tehtäväkohtaiset pisteet analysoitu.\")\n    TallennaPalautus(tehtavat)  # Tallennuskutsu\n    opiskelijat.clear()\n    tehtavat.clear()\n    return None\n\ndef Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        TUNTI = int(data.pvm.strftime(\"%H\"))\n        tuntimatriisi[VIIKKO - 1][TUNTI] += 1\n    print(\"Tuntikohtaiset palautukset analysoitu.\")\n    TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA)\n    return None\n\ndef Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        PALAIKA = data.pvm\n        ALKAIKA = datetime.datetime.strptime('01.09.2020 06:00:00', \"%d.%m.%Y %H:%M:%S\")\n        AIKAERO = PALAIKA - ALKAIKA\n        if VIIKKO == 7: # Poikkeustilanne\n            PAIVA = int(int(AIKAERO.days) / 2 % 7)\n        else:\n            PAIVA = int(AIKAERO.days) % 7\n        viikkomatriisi[VIIKKO - 1][PAIVA] += 1\n    print(\"Aikavälikohtaiset palautukset analysoitu.\")\n    TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA)\n    return None\n\ndef TallennaPalautus(tehtavat):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Pistemäärä;Opiskelijoita\" + '\\n')\n        for teht, maar in tehtavat.items():\n            kirjoitettava.write(f\"{teht};{maar}\" + '\\n')\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Tunti;\")\n        for tunti in range(TUNTEJA):\n            if tunti == (TUNTEJA - 1):\n                kirjoitettava.write(f\"{TUNTEJA-1}\" + '\\n')\n            else:\n                kirjoitettava.write(f\"{tunti};\")\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for tunti in range(1, (TUNTEJA + 1)):\n                if tunti == TUNTEJA:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Aikaväli;\")\n        for paiva in range(PAIVIA):\n            if paiva == (PAIVIA - 1):\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")}' + '\\n')\n            else:\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")};')\n                ALKAIKA = ALKAIKA + datetime.timedelta(days = 1)\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for paiva in range(PAIVIA):\n                if paiva == (PAIVIA - 1):\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\n#eof\n"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        },
                        {
                            "end": 57,
                            "msg": "Rivi 51: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 130: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 185: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 210: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 236: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        }
                    ],
                    "file_name": "HTTavoiteKirjasto.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        },
                        {
                            "end": 57,
                            "msg": "Rivi 35: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "PK1-2"
                        }
                    ],
                    "file_name": "HTTavoite.py"
                }
            ]
        },
        "createdAt": "2024-09-27 13:28:32.501000",
        "__v": 0
    },
    {
        "_id": "66f6b30780a524b527d91d47",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 1,
            "data_structure": 1,
            "library": 1,
            "exception_handling": 1
        },
        "analysis_type": "default",
        "analysis_lang": "ENG",
        "analysis_files": [
            {
                "file_name": "HTTavoite.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTTavoite.py\n\nimport numpy\nimport HTTavoiteKirjasto\n\nVIIKKOJA = 14 # Kiintoarvot (config)\nTUNTEJA = 24\nPAIVIA = 7\n\ndef valikko():\n    print(\"Mitä haluat tehdä:\")\n    print(\"1) Lue tiedosto\")\n    print(\"2) Analysoi palautukset\")\n    print(\"3) Tallenna tulokset\")\n    print(\"4) Analysoi opiskelijoiden palautusmäärät\")\n    print(\"5) Analysoi tuntikohtaiset palautukset\")\n    print(\"6) Analysoi aikavälien palautukset\")\n    print(\"0) Lopeta\")\n    while(True):\n        try:\n            valinta = int(input(\"Valintasi: \"))\n            break\n        except Exception:\n            print(\"Anna valinta kokonaislukuna.\")\n    return valinta\n\ndef paaohjelma():\n    lista = [] # Alustukset ja alkutoimenpiteet\n    analyysi = []\n    opiskelijat = {}\n    tehtavat = {}\n\n    while (True):\n        valinta = valikko()\n        if valinta == 1:\n            lista = HTTavoiteKirjasto.Lue(lista)\n        elif valinta == 2:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Analyysi(lista, analyysi)\n        elif valinta == 3:\n            if len(lista) == 0:\n                print(\"Ei tietoja tallennettavaksi, analysoi tiedot ennen tallennusta.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Tallenna(analyysi)\n        elif valinta == 4:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Palautus(lista, opiskelijat, tehtavat)\n        elif valinta == 5:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                tuntimatriisi = numpy.zeros((VIIKKOJA, TUNTEJA), int)\n                HTTavoiteKirjasto.Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA)\n                numpy.delete(tuntimatriisi, numpy.s_[:], None) # Tuhoaa matriisin käytön jälkeen.\n        elif valinta == 6:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                viikkomatriisi = numpy.zeros((VIIKKOJA, PAIVIA), int)\n                HTTavoiteKirjasto.Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA)\n                numpy.delete(viikkomatriisi, numpy.s_[:], None)\n        elif valinta == 0:\n            lista.clear()\n            analyysi.clear()\n            opiskelijat.clear()\n            tehtavat.clear()\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\" + '\\n')\n            print(\"Anna uusi valinta.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n    return None\n\npaaohjelma()\n\n#eof\n"
            },
            {
                "file_name": "HTTavoiteKirjasto.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTPerusKirjasto.py\n\nimport sys\nimport numpy\nimport datetime\n\n__version__ = \"1.2\"\n\nclass TIEDOT():\n    pvm = str\n    optunnus = str\n    tehtava = str\n\nclass TULOKSET():\n    teht = str\n    tehtnro = str\n\ndef Lue(lista):\n    try:\n        lista1 = [] # Tilapäislista\n        lista.clear()  # Tyhjennetään lista ennen lukua.\n        rfile = input(\"Anna luettavan tiedoston nimi: \")\n        luettava = open(rfile, \"r\", encoding=\"utf-8\")\n        luettava.readline()  # Lukee otsikkorivim pois.\n        n = 0  # Ilmoittaa rivimäärän.\n        for rivi in luettava:\n            n = n + 1\n            rivi = rivi.strip()\n            lista1 = rivi.split(';')\n            data = TIEDOT()\n            data.pvm = datetime.datetime.strptime(lista1[0], \"%d-%m-%Y %H:%M:%S\")\n            data.optunnus = lista1[1]\n            data.tehtava = lista1[2]\n            lista.append(data)\n        print(f\"Tiedostosta '{rfile}' luettiin listaan {n} datarivin tiedot.\" + '\\n')\n        luettava.close()\n        lista1.clear()\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{rfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return lista\n\ndef Analyysi(lista, analyysi):\n    lista2 = []\n    lista3 = []\n    analyysi.clear()\n\n    for data in lista:  # Ajetaan tehtäväkohtainen lista.\n        lista2.append(data.tehtava)\n        \n    alkio = lista2[0]\n    k = 0  # Laskee eri tehtävien lm.\n    tn = 0  # Tehtäväkohtainen numero.\n    n = 0  # Rivi-indikaattori\n\n    for rivi in lista2:  # Lasketaan tehtäväkohtainen data listaan.\n        n = n + 1\n        if alkio != rivi:\n            tulos = TULOKSET()\n            tulos.teht = alkio\n            tulos.tehtnro = tn\n            lista3.append(tulos)\n            alkio = rivi\n            k = k + 1\n            tn = 0\n        if n == len(lista2):\n            tulos = TULOKSET()\n            tulos.teht = (lista2[n-1])\n            tulos.tehtnro = tn + 1\n            lista3.append(tulos)\n            k = k + 1\n        else:\n            tn = tn + 1\n\n    for rivi in lista3:  # Ääriarvovertailun pohjatiedot\n        suurin = rivi.tehtnro\n        pienin = rivi.tehtnro\n        suurinteht = rivi.teht\n        pieninteht = rivi.teht\n        break\n\n    for rivi in lista3:  \n        if rivi.tehtnro > suurin: # Suuremmuusvertailu.\n            suurin = rivi.tehtnro\n            suurinteht = rivi.teht\n        if rivi.tehtnro < pienin: # Pienemmyysvertailu.\n            pienin = rivi.tehtnro\n            pieninteht = rivi.teht\n\n    # Viimeistelty analyysi\n    analyysi.append(f\"Palautuksia tuli yhteensä {len(lista2)}, {k} eri tehtävään.\")\n    analyysi.append(f\"Viikkotehtäviin tuli keskimäärin {int(len(lista2) / k)} palautusta.\")\n    analyysi.append(f\"Eniten palautuksia, {suurin}, tuli viikkotehtävään {suurinteht}.\")\n    analyysi.append(f\"Vähiten palautuksia, {pienin}, tuli viikkotehtävään {pieninteht}.\")\n    analyysi.append(\"\")\n    analyysi.append(\"Tehtävä;Lukumäärä\")\n    for rivi in lista3:\n        analyysi.append(f\"{rivi.teht};{rivi.tehtnro}\")\n\n    print(f\"Analysoitu {len(lista2)} palautusta {k} eri tehtävään.\")\n    print(\"Tilastotiedot analysoitu.\" + '\\n')\n    lista2.clear()\n    lista3.clear()\n    print(\"Anna uusi valinta.\")\n    return analyysi\n\ndef Tallenna(analyysi):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        for rivi in analyysi:\n            kirjoitettava.write(rivi + '\\n')\n            print(rivi)\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef Palautus(lista, opiskelijat, tehtavat):\n    for data in lista: # Laskee opiskelijakohtaisen palautusmäärän\n        if data.optunnus not in opiskelijat:\n            opiskelijat[data.optunnus] = 1\n        else:\n            opiskelijat[data.optunnus] += 1\n    for i in range(0,61):\n        tehtavat[i] = 0\n    for n in opiskelijat.values():\n        tehtavat[n] += 1\n    print(\"Tehtäväkohtaiset pisteet analysoitu.\")\n    TallennaPalautus(tehtavat)  # Tallennuskutsu\n    opiskelijat.clear()\n    tehtavat.clear()\n    return None\n\ndef Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        TUNTI = int(data.pvm.strftime(\"%H\"))\n        tuntimatriisi[VIIKKO - 1][TUNTI] += 1\n    print(\"Tuntikohtaiset palautukset analysoitu.\")\n    TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA)\n    return None\n\ndef Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        PALAIKA = data.pvm\n        ALKAIKA = datetime.datetime.strptime('01.09.2020 06:00:00', \"%d.%m.%Y %H:%M:%S\")\n        AIKAERO = PALAIKA - ALKAIKA\n        if VIIKKO == 7: # Poikkeustilanne\n            PAIVA = int(int(AIKAERO.days) / 2 % 7)\n        else:\n            PAIVA = int(AIKAERO.days) % 7\n        viikkomatriisi[VIIKKO - 1][PAIVA] += 1\n    print(\"Aikavälikohtaiset palautukset analysoitu.\")\n    TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA)\n    return None\n\ndef TallennaPalautus(tehtavat):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Pistemäärä;Opiskelijoita\" + '\\n')\n        for teht, maar in tehtavat.items():\n            kirjoitettava.write(f\"{teht};{maar}\" + '\\n')\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Tunti;\")\n        for tunti in range(TUNTEJA):\n            if tunti == (TUNTEJA - 1):\n                kirjoitettava.write(f\"{TUNTEJA-1}\" + '\\n')\n            else:\n                kirjoitettava.write(f\"{tunti};\")\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for tunti in range(1, (TUNTEJA + 1)):\n                if tunti == TUNTEJA:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Aikaväli;\")\n        for paiva in range(PAIVIA):\n            if paiva == (PAIVIA - 1):\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")}' + '\\n')\n            else:\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")};')\n                ALKAIKA = ALKAIKA + datetime.timedelta(days = 1)\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for paiva in range(PAIVIA):\n                if paiva == (PAIVIA - 1):\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\n#eof\n"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 34,
                            "msg": "Functions: No violations detected.",
                            "severity": 4,
                            "start": 10
                        },
                        {
                            "end": 38,
                            "msg": "File handling: No violations detected.",
                            "severity": 4,
                            "start": 14
                        },
                        {
                            "end": 40,
                            "msg": "Data structures: No violations detected.",
                            "severity": 4,
                            "start": 16
                        },
                        {
                            "end": 38,
                            "msg": "Library usage: No violations detected.",
                            "severity": 4,
                            "start": 14
                        },
                        {
                            "end": 73,
                            "msg": "Exception handling, violations detected please see Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 19
                        },
                        {
                            "end": 62,
                            "msg": "Line 51: In this course used exception type should be OSError.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 63,
                            "msg": "Line 130: In this course used exception type should be OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 63,
                            "msg": "Line 185: In this course used exception type should be OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 63,
                            "msg": "Line 210: In this course used exception type should be OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 63,
                            "msg": "Line 236: In this course used exception type should be OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        }
                    ],
                    "file_name": "HTTavoiteKirjasto.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 34,
                            "msg": "Functions: No violations detected.",
                            "severity": 4,
                            "start": 10
                        },
                        {
                            "end": 38,
                            "msg": "File handling: No violations detected.",
                            "severity": 4,
                            "start": 14
                        },
                        {
                            "end": 40,
                            "msg": "Data structures: No violations detected.",
                            "severity": 4,
                            "start": 16
                        },
                        {
                            "end": 38,
                            "msg": "Library usage: No violations detected.",
                            "severity": 4,
                            "start": 14
                        },
                        {
                            "end": 73,
                            "msg": "Exception handling, violations detected please see Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 19
                        },
                        {
                            "end": 62,
                            "msg": "Line 35: In this course used exception type should be OSError.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "PK1-2"
                        }
                    ],
                    "file_name": "HTTavoite.py"
                }
            ]
        },
        "createdAt": "2024-09-27 13:28:39.509000",
        "__v": 0
    },
    {
        "_id": "66f6b33780a524b527d91d49",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "LO5-T1.py",
                "python_code": "def ao1():\n    print(\"Nyt olemme tulosta-aliohjelmassa\")\n    print(\"Tämä aliohjelma tulostaa vain tekstiä.\")\n    print(\"Tämä sopii hyvin valikon tulostamiseen.\")\n    return None\nprint(\"Ensimmäinen vaihe:\")\nao1()\nprint(\"\")\nprint(\"Toinen vaihe:\")\nluku = input(\"Anna luku: \")\nluku = int(luku)\nprint(\"Päätasolla ennen aliohjelmaa luku on\",luku)\ndef ao2(luku):\n    print(\"Aliohjelmassa parametrin arvo on\",luku)\n    luku=luku**2\n    print(\"Aliohjelmassa parametrin arvo on neliöön korottamisen jälkeen\", luku)\n    return None\nao2(luku)\nprint(\"Päätasolla aliohjelman jälkeen luku on\", luku)\nprint(\"\")\nprint(\"Kolmas vaihe:\")\netu = input(\"Anna etunimi: \")\nsuku = input(\"Anna sukunimi: \")\ndef ao3(etu, suku):\n    print(\"Etunimi '\"+str(etu)+\"' ja sukunimi '\"+str(suku)+\"' muodostavat nimen '\"+str(etu),str(suku)+\"'.\")\n    return None\nao3(etu, suku)\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T2.py",
                "python_code": "luku1 = input(\"Anna ensimmäinen luku: \")\nluku2 = input(\"Anna toinen luku: \")\nluku1 = int(luku1)\nluku2 = int(luku2)\n\ndef testaaja(x, y):\n    if (x > y):\n        isompi = x\n        pieni = y\n        print(\"Testatuista luvuista\",luku1,\"on suurempi kuin\",luku2)\n    elif (x == y):\n        isompi = x\n        pieni = y\n        print(\"Luvut ovat samansuuruiset.\")\n    else:\n        isompi = y\n        pieni = x\n        print(\"Testatuista luvuista\",luku2,\"on suurempi kuin\",luku1)\n    return isompi, pieni\n\nsuurempi, pienempi = testaaja(luku1, luku2)\n\nluku3 = input(\"Paljonko vähennetään suuremmasta luvusta: \")\nluku3 = int(luku3)\nluku3 = suurempi - luku3\n\n\nif (luku3 > pienempi):\n    print(\"Testatuista luvuista\",luku3,\"on suurempi kuin\",pienempi)\nelse:\n    print(\"Testatuista luvuista\",pienempi,\"on suurempi kuin\",luku3)\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T3.py",
                "python_code": "def funktio():\n    for n in range(0,luku):\n        print(teksti)\n\nwhile (True):\n    teksti = input(\"Anna teksti: \")\n    if (teksti == \"lopeta\"):\n        print(\"Lopetetaan.\")\n        break\n    else:\n        luku = input(\"Anna luku: \")\n        luku = int(luku)\n        funktio()\n        print(\"\")\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T4.py",
                "python_code": "def paaohjelma():\n    while (True):\n        merkkijono = kysymysohjelma()\n        pituus = pituusohjelma(merkkijono)\n        if (pituus < minimi):\n            print(\"Liian lyhyt,\",pituus,\"merkkiä, anna uusi.\")\n        elif (pituus > maksimi):\n            print(\"Liian pitkä,\",pituus,\"merkkiä, anna uusi.\")\n        else:\n            print(\"Annoit sopivan merkkijonon,\",pituus,\"merkkiä.\")\n            print(\"Kiitos ohjelman käytöstä.\")\n            break\n    return merkkijono, pituus\n\ndef kysymysohjelma():\n    strmin = str(minimi)\n    strmax = str(maksimi)\n    x = input(\"Anna merkkijono, \"+strmin+\"-\"+strmax+\" merkkiä: \")\n    return x\n\n\ndef pituusohjelma(p):\n    amount = 0\n    for n in p:\n        amount = amount + 1\n    return amount\n\nmaksimi = 15\nminimi = 5\n\npaaohjelma()"
            },
            {
                "file_name": "LO5-T5.py",
                "python_code": "def Valikko():\n    print(\"Tämä laskin osaa seuraavat toiminnot:\")\n    print(\"1) Anna luvut\")\n    print(\"2) Summa\")\n    print(\"3) Osamäärä\")\n    print(\"0) Lopeta\")\n    toiminto = input(\"Valitse toiminto (0-3): \")\n    toiminto = int(toiminto)\n    return toiminto\n\ndef AnnaLuku():\n    n1 = input(\"Anna ensimmäinen luku: \")\n    n1 = int(n1)\n    n2 = input(\"Anna toinen luku: \")\n    n2 = int(n2)\n    print(\"Annoit luvut\",str(n1),\"ja\",str(n2))\n    return n1, n2\n\ndef Summa(a1, a2):\n    a3 = a1 + a2\n    apalautus = print(\"Summa\",a1,\"+\",a2,\"=\",a3)\n    return apalautus\n\ndef Osamaara(b1, b2):\n    if (b2 == 0):\n        bpalautus = print(\"Nollalla ei voi jakaa.\")\n    else:\n        b3 = round(b1 / b2,2)\n        bpalautus = print(\"Osamäärä\",str(b1),\"/\",str(b2),\"=\",b3)\n    return bpalautus\n\ndef paaohjelma():\n    while (True):\n        valinta = Valikko()\n        if (valinta == 1):\n            luku1, luku2 = AnnaLuku()\n        elif (valinta == 2):\n            summaus = Summa(luku1, luku2)\n        elif (valinta == 3):\n            jako = Osamaara(luku1, luku2)\n        elif (valinta == 0):\n            print(\"Lopetetaan\")\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n\npaaohjelma()"
            },
            {
                "file_name": "LO5-Testisivu.py",
                "python_code": ""
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 1: Aliohjelman 'funktio' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 52,
                            "msg": "Ohjelmasta ei löytynyt määrittelyä 'paaohjelma':lle.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 5: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 16: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 11: Globaalimuuttuja 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T3.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 19: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 52,
                            "msg": "Ohjelmasta ei löytynyt määrittelyä 'paaohjelma':lle.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 21: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 23: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 24: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 25: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 28: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 33: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 1: Globaalimuuttuja 'luku1'.",
                            "severity": 1,
                            "start": 8,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 2: Globaalimuuttuja 'luku2'.",
                            "severity": 1,
                            "start": 8,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 34,
                            "msg": "Rivi 23: Globaalimuuttuja 'luku3'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T2.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 17: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 32: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        }
                    ],
                    "file_name": "LO5-T5.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        }
                    ],
                    "file_name": "LO5-Testisivu.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Ohjelmasta ei löytynyt määrittelyä 'paaohjelma':lle.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 6: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 7: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 8: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 9: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 10: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 11: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 12: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 18: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 19: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 20: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 21: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 22: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 23: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 27: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 28: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 10: Globaalimuuttuja 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T1.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 13: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 15: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 22: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 28: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 29: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        }
                    ],
                    "file_name": "LO5-T4.py"
                }
            ]
        },
        "createdAt": "2024-09-27 13:29:27.644000",
        "__v": 0
    },
    {
        "_id": "66f6b34080a524b527d91d4b",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "ENG",
        "analysis_files": [
            {
                "file_name": "LO5-T1.py",
                "python_code": "def ao1():\n    print(\"Nyt olemme tulosta-aliohjelmassa\")\n    print(\"Tämä aliohjelma tulostaa vain tekstiä.\")\n    print(\"Tämä sopii hyvin valikon tulostamiseen.\")\n    return None\nprint(\"Ensimmäinen vaihe:\")\nao1()\nprint(\"\")\nprint(\"Toinen vaihe:\")\nluku = input(\"Anna luku: \")\nluku = int(luku)\nprint(\"Päätasolla ennen aliohjelmaa luku on\",luku)\ndef ao2(luku):\n    print(\"Aliohjelmassa parametrin arvo on\",luku)\n    luku=luku**2\n    print(\"Aliohjelmassa parametrin arvo on neliöön korottamisen jälkeen\", luku)\n    return None\nao2(luku)\nprint(\"Päätasolla aliohjelman jälkeen luku on\", luku)\nprint(\"\")\nprint(\"Kolmas vaihe:\")\netu = input(\"Anna etunimi: \")\nsuku = input(\"Anna sukunimi: \")\ndef ao3(etu, suku):\n    print(\"Etunimi '\"+str(etu)+\"' ja sukunimi '\"+str(suku)+\"' muodostavat nimen '\"+str(etu),str(suku)+\"'.\")\n    return None\nao3(etu, suku)\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T2.py",
                "python_code": "luku1 = input(\"Anna ensimmäinen luku: \")\nluku2 = input(\"Anna toinen luku: \")\nluku1 = int(luku1)\nluku2 = int(luku2)\n\ndef testaaja(x, y):\n    if (x > y):\n        isompi = x\n        pieni = y\n        print(\"Testatuista luvuista\",luku1,\"on suurempi kuin\",luku2)\n    elif (x == y):\n        isompi = x\n        pieni = y\n        print(\"Luvut ovat samansuuruiset.\")\n    else:\n        isompi = y\n        pieni = x\n        print(\"Testatuista luvuista\",luku2,\"on suurempi kuin\",luku1)\n    return isompi, pieni\n\nsuurempi, pienempi = testaaja(luku1, luku2)\n\nluku3 = input(\"Paljonko vähennetään suuremmasta luvusta: \")\nluku3 = int(luku3)\nluku3 = suurempi - luku3\n\n\nif (luku3 > pienempi):\n    print(\"Testatuista luvuista\",luku3,\"on suurempi kuin\",pienempi)\nelse:\n    print(\"Testatuista luvuista\",pienempi,\"on suurempi kuin\",luku3)\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T3.py",
                "python_code": "def funktio():\n    for n in range(0,luku):\n        print(teksti)\n\nwhile (True):\n    teksti = input(\"Anna teksti: \")\n    if (teksti == \"lopeta\"):\n        print(\"Lopetetaan.\")\n        break\n    else:\n        luku = input(\"Anna luku: \")\n        luku = int(luku)\n        funktio()\n        print(\"\")\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T4.py",
                "python_code": "def paaohjelma():\n    while (True):\n        merkkijono = kysymysohjelma()\n        pituus = pituusohjelma(merkkijono)\n        if (pituus < minimi):\n            print(\"Liian lyhyt,\",pituus,\"merkkiä, anna uusi.\")\n        elif (pituus > maksimi):\n            print(\"Liian pitkä,\",pituus,\"merkkiä, anna uusi.\")\n        else:\n            print(\"Annoit sopivan merkkijonon,\",pituus,\"merkkiä.\")\n            print(\"Kiitos ohjelman käytöstä.\")\n            break\n    return merkkijono, pituus\n\ndef kysymysohjelma():\n    strmin = str(minimi)\n    strmax = str(maksimi)\n    x = input(\"Anna merkkijono, \"+strmin+\"-\"+strmax+\" merkkiä: \")\n    return x\n\n\ndef pituusohjelma(p):\n    amount = 0\n    for n in p:\n        amount = amount + 1\n    return amount\n\nmaksimi = 15\nminimi = 5\n\npaaohjelma()"
            },
            {
                "file_name": "LO5-T5.py",
                "python_code": "def Valikko():\n    print(\"Tämä laskin osaa seuraavat toiminnot:\")\n    print(\"1) Anna luvut\")\n    print(\"2) Summa\")\n    print(\"3) Osamäärä\")\n    print(\"0) Lopeta\")\n    toiminto = input(\"Valitse toiminto (0-3): \")\n    toiminto = int(toiminto)\n    return toiminto\n\ndef AnnaLuku():\n    n1 = input(\"Anna ensimmäinen luku: \")\n    n1 = int(n1)\n    n2 = input(\"Anna toinen luku: \")\n    n2 = int(n2)\n    print(\"Annoit luvut\",str(n1),\"ja\",str(n2))\n    return n1, n2\n\ndef Summa(a1, a2):\n    a3 = a1 + a2\n    apalautus = print(\"Summa\",a1,\"+\",a2,\"=\",a3)\n    return apalautus\n\ndef Osamaara(b1, b2):\n    if (b2 == 0):\n        bpalautus = print(\"Nollalla ei voi jakaa.\")\n    else:\n        b3 = round(b1 / b2,2)\n        bpalautus = print(\"Osamäärä\",str(b1),\"/\",str(b2),\"=\",b3)\n    return bpalautus\n\ndef paaohjelma():\n    while (True):\n        valinta = Valikko()\n        if (valinta == 1):\n            luku1, luku2 = AnnaLuku()\n        elif (valinta == 2):\n            summaus = Summa(luku1, luku2)\n        elif (valinta == 3):\n            jako = Osamaara(luku1, luku2)\n        elif (valinta == 0):\n            print(\"Lopetetaan\")\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n\npaaohjelma()"
            },
            {
                "file_name": "LO5-Testisivu.py",
                "python_code": ""
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 43,
                            "msg": "Line 13: Returning multiple values at once.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 49,
                            "msg": "Line 15: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 22: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 28: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 29: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        }
                    ],
                    "file_name": "LO5-T4.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 60,
                            "msg": "Line 1: Missing return at the end of the function 'funktio'.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 38,
                            "msg": "No function defition for 'paaohjelma'.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 5: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 16: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 32,
                            "msg": "Line 11: Global variable 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T3.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 43,
                            "msg": "Line 19: Returning multiple values at once.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 38,
                            "msg": "No function defition for 'paaohjelma'.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 21: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 23: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 24: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 25: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 28: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 33: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 32,
                            "msg": "Line 1: Global variable 'luku1'.",
                            "severity": 1,
                            "start": 8,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 32,
                            "msg": "Line 2: Global variable 'luku2'.",
                            "severity": 1,
                            "start": 8,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 33,
                            "msg": "Line 23: Global variable 'luku3'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T2.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 38,
                            "msg": "No function defition for 'paaohjelma'.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 6: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 7: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 8: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 9: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 10: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 11: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 12: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 18: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 19: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 20: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 21: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 22: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 23: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 27: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 28: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 32,
                            "msg": "Line 10: Global variable 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T1.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 43,
                            "msg": "Line 17: Returning multiple values at once.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 64,
                            "msg": "Line 32: Missing return at the end of the function 'paaohjelma'.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        }
                    ],
                    "file_name": "LO5-T5.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 34,
                            "msg": "Functions: No violations detected.",
                            "severity": 4,
                            "start": 10
                        }
                    ],
                    "file_name": "LO5-Testisivu.py"
                }
            ]
        },
        "createdAt": "2024-09-27 13:29:36.212000",
        "__v": 0
    },
    {
        "_id": "66f6b39780a524b527d91d4d",
        "email": "Testaaja2@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 1,
            "data_structure": 1,
            "library": 1,
            "exception_handling": 1
        },
        "analysis_type": "default",
        "analysis_lang": "ENG",
        "analysis_files": [
            {
                "file_name": "MR1_element_order_wrong4.py",
                "python_code": "\"\"\"Test file for MR1 check.\r\nMR1 check detects correct element order from the file.\r\n\"\"\"\r\n\r\n# Importit\r\nimport os\r\nimport math # names[name]\r\nfrom datetime import datetime # names[name]\r\nimport sys\r\n\r\n# Kiintoarvot\r\nCONST = 1 # targets[id]\r\n\r\n# Luokat\r\nclass A: # name\r\n    a = 1\r\n\r\nclass B:\r\n    a = 1\r\n\r\nclass C:\r\n    var = 100\r\n\r\n# Aliohjelmat\r\ndef aliohjelma(a): # name\r\n    print(a)\r\n    return None\r\n\r\nasync def bar(): # name\r\n    return None\r\n\r\ndef foo(a): # name\r\n    return None\r\n\r\n# paaohjelmakutsu\r\npaaohjelma() # value.func.id = 'paaohjelma'\r\n\r\n# paaohjelma\r\ndef paaohjelma(): # name='paaohjelma'\r\n    return None\r\n"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 49,
                            "msg": "Line 39: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 38,
                            "msg": "File handling: No violations detected.",
                            "severity": 4,
                            "start": 14
                        },
                        {
                            "end": 40,
                            "msg": "Data structures: No violations detected.",
                            "severity": 4,
                            "start": 16
                        },
                        {
                            "end": 38,
                            "msg": "Library usage: No violations detected.",
                            "severity": 4,
                            "start": 14
                        },
                        {
                            "end": 43,
                            "msg": "Exception handling: No violations detected.",
                            "severity": 4,
                            "start": 19
                        }
                    ],
                    "file_name": "MR1_element_order_wrong4.py"
                }
            ]
        },
        "createdAt": "2024-09-27 13:31:03.844000",
        "__v": 0
    },
    {
        "_id": "66f6ba890848e3c3b7bfc761",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "LO5-T1.py",
                "python_code": "def ao1():\n    print(\"Nyt olemme tulosta-aliohjelmassa\")\n    print(\"Tämä aliohjelma tulostaa vain tekstiä.\")\n    print(\"Tämä sopii hyvin valikon tulostamiseen.\")\n    return None\nprint(\"Ensimmäinen vaihe:\")\nao1()\nprint(\"\")\nprint(\"Toinen vaihe:\")\nluku = input(\"Anna luku: \")\nluku = int(luku)\nprint(\"Päätasolla ennen aliohjelmaa luku on\",luku)\ndef ao2(luku):\n    print(\"Aliohjelmassa parametrin arvo on\",luku)\n    luku=luku**2\n    print(\"Aliohjelmassa parametrin arvo on neliöön korottamisen jälkeen\", luku)\n    return None\nao2(luku)\nprint(\"Päätasolla aliohjelman jälkeen luku on\", luku)\nprint(\"\")\nprint(\"Kolmas vaihe:\")\netu = input(\"Anna etunimi: \")\nsuku = input(\"Anna sukunimi: \")\ndef ao3(etu, suku):\n    print(\"Etunimi '\"+str(etu)+\"' ja sukunimi '\"+str(suku)+\"' muodostavat nimen '\"+str(etu),str(suku)+\"'.\")\n    return None\nao3(etu, suku)\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T2.py",
                "python_code": "luku1 = input(\"Anna ensimmäinen luku: \")\nluku2 = input(\"Anna toinen luku: \")\nluku1 = int(luku1)\nluku2 = int(luku2)\n\ndef testaaja(x, y):\n    if (x > y):\n        isompi = x\n        pieni = y\n        print(\"Testatuista luvuista\",luku1,\"on suurempi kuin\",luku2)\n    elif (x == y):\n        isompi = x\n        pieni = y\n        print(\"Luvut ovat samansuuruiset.\")\n    else:\n        isompi = y\n        pieni = x\n        print(\"Testatuista luvuista\",luku2,\"on suurempi kuin\",luku1)\n    return isompi, pieni\n\nsuurempi, pienempi = testaaja(luku1, luku2)\n\nluku3 = input(\"Paljonko vähennetään suuremmasta luvusta: \")\nluku3 = int(luku3)\nluku3 = suurempi - luku3\n\n\nif (luku3 > pienempi):\n    print(\"Testatuista luvuista\",luku3,\"on suurempi kuin\",pienempi)\nelse:\n    print(\"Testatuista luvuista\",pienempi,\"on suurempi kuin\",luku3)\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T3.py",
                "python_code": "def funktio():\n    for n in range(0,luku):\n        print(teksti)\n\nwhile (True):\n    teksti = input(\"Anna teksti: \")\n    if (teksti == \"lopeta\"):\n        print(\"Lopetetaan.\")\n        break\n    else:\n        luku = input(\"Anna luku: \")\n        luku = int(luku)\n        funktio()\n        print(\"\")\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T4.py",
                "python_code": "def paaohjelma():\n    while (True):\n        merkkijono = kysymysohjelma()\n        pituus = pituusohjelma(merkkijono)\n        if (pituus < minimi):\n            print(\"Liian lyhyt,\",pituus,\"merkkiä, anna uusi.\")\n        elif (pituus > maksimi):\n            print(\"Liian pitkä,\",pituus,\"merkkiä, anna uusi.\")\n        else:\n            print(\"Annoit sopivan merkkijonon,\",pituus,\"merkkiä.\")\n            print(\"Kiitos ohjelman käytöstä.\")\n            break\n    return merkkijono, pituus\n\ndef kysymysohjelma():\n    strmin = str(minimi)\n    strmax = str(maksimi)\n    x = input(\"Anna merkkijono, \"+strmin+\"-\"+strmax+\" merkkiä: \")\n    return x\n\n\ndef pituusohjelma(p):\n    amount = 0\n    for n in p:\n        amount = amount + 1\n    return amount\n\nmaksimi = 15\nminimi = 5\n\npaaohjelma()"
            },
            {
                "file_name": "LO5-T5.py",
                "python_code": "def Valikko():\n    print(\"Tämä laskin osaa seuraavat toiminnot:\")\n    print(\"1) Anna luvut\")\n    print(\"2) Summa\")\n    print(\"3) Osamäärä\")\n    print(\"0) Lopeta\")\n    toiminto = input(\"Valitse toiminto (0-3): \")\n    toiminto = int(toiminto)\n    return toiminto\n\ndef AnnaLuku():\n    n1 = input(\"Anna ensimmäinen luku: \")\n    n1 = int(n1)\n    n2 = input(\"Anna toinen luku: \")\n    n2 = int(n2)\n    print(\"Annoit luvut\",str(n1),\"ja\",str(n2))\n    return n1, n2\n\ndef Summa(a1, a2):\n    a3 = a1 + a2\n    apalautus = print(\"Summa\",a1,\"+\",a2,\"=\",a3)\n    return apalautus\n\ndef Osamaara(b1, b2):\n    if (b2 == 0):\n        bpalautus = print(\"Nollalla ei voi jakaa.\")\n    else:\n        b3 = round(b1 / b2,2)\n        bpalautus = print(\"Osamäärä\",str(b1),\"/\",str(b2),\"=\",b3)\n    return bpalautus\n\ndef paaohjelma():\n    while (True):\n        valinta = Valikko()\n        if (valinta == 1):\n            luku1, luku2 = AnnaLuku()\n        elif (valinta == 2):\n            summaus = Summa(luku1, luku2)\n        elif (valinta == 3):\n            jako = Osamaara(luku1, luku2)\n        elif (valinta == 0):\n            print(\"Lopetetaan\")\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n\npaaohjelma()"
            },
            {
                "file_name": "LO5-Testisivu.py",
                "python_code": ""
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 13: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 15: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 22: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 28: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 29: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        }
                    ],
                    "file_name": "LO5-T4.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 17: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 32: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        }
                    ],
                    "file_name": "LO5-T5.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 1: Aliohjelman 'funktio' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 52,
                            "msg": "Ohjelmasta ei löytynyt määrittelyä 'paaohjelma':lle.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 5: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 16: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 11: Globaalimuuttuja 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T3.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Ohjelmasta ei löytynyt määrittelyä 'paaohjelma':lle.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 6: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 7: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 8: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 9: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 10: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 11: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 12: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 18: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 19: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 20: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 21: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 22: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 23: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 27: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 28: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 10: Globaalimuuttuja 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T1.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        }
                    ],
                    "file_name": "LO5-Testisivu.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 19: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 52,
                            "msg": "Ohjelmasta ei löytynyt määrittelyä 'paaohjelma':lle.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 21: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 23: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 24: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 25: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 28: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 33: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 1: Globaalimuuttuja 'luku1'.",
                            "severity": 1,
                            "start": 8,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 2: Globaalimuuttuja 'luku2'.",
                            "severity": 1,
                            "start": 8,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 34,
                            "msg": "Rivi 23: Globaalimuuttuja 'luku3'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T2.py"
                }
            ]
        },
        "createdAt": "2024-09-27 14:00:41.352000",
        "__v": 0
    },
    {
        "_id": "66f6ba8f0848e3c3b7bfc763",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "ENG",
        "analysis_files": [
            {
                "file_name": "LO5-T1.py",
                "python_code": "def ao1():\n    print(\"Nyt olemme tulosta-aliohjelmassa\")\n    print(\"Tämä aliohjelma tulostaa vain tekstiä.\")\n    print(\"Tämä sopii hyvin valikon tulostamiseen.\")\n    return None\nprint(\"Ensimmäinen vaihe:\")\nao1()\nprint(\"\")\nprint(\"Toinen vaihe:\")\nluku = input(\"Anna luku: \")\nluku = int(luku)\nprint(\"Päätasolla ennen aliohjelmaa luku on\",luku)\ndef ao2(luku):\n    print(\"Aliohjelmassa parametrin arvo on\",luku)\n    luku=luku**2\n    print(\"Aliohjelmassa parametrin arvo on neliöön korottamisen jälkeen\", luku)\n    return None\nao2(luku)\nprint(\"Päätasolla aliohjelman jälkeen luku on\", luku)\nprint(\"\")\nprint(\"Kolmas vaihe:\")\netu = input(\"Anna etunimi: \")\nsuku = input(\"Anna sukunimi: \")\ndef ao3(etu, suku):\n    print(\"Etunimi '\"+str(etu)+\"' ja sukunimi '\"+str(suku)+\"' muodostavat nimen '\"+str(etu),str(suku)+\"'.\")\n    return None\nao3(etu, suku)\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T2.py",
                "python_code": "luku1 = input(\"Anna ensimmäinen luku: \")\nluku2 = input(\"Anna toinen luku: \")\nluku1 = int(luku1)\nluku2 = int(luku2)\n\ndef testaaja(x, y):\n    if (x > y):\n        isompi = x\n        pieni = y\n        print(\"Testatuista luvuista\",luku1,\"on suurempi kuin\",luku2)\n    elif (x == y):\n        isompi = x\n        pieni = y\n        print(\"Luvut ovat samansuuruiset.\")\n    else:\n        isompi = y\n        pieni = x\n        print(\"Testatuista luvuista\",luku2,\"on suurempi kuin\",luku1)\n    return isompi, pieni\n\nsuurempi, pienempi = testaaja(luku1, luku2)\n\nluku3 = input(\"Paljonko vähennetään suuremmasta luvusta: \")\nluku3 = int(luku3)\nluku3 = suurempi - luku3\n\n\nif (luku3 > pienempi):\n    print(\"Testatuista luvuista\",luku3,\"on suurempi kuin\",pienempi)\nelse:\n    print(\"Testatuista luvuista\",pienempi,\"on suurempi kuin\",luku3)\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T3.py",
                "python_code": "def funktio():\n    for n in range(0,luku):\n        print(teksti)\n\nwhile (True):\n    teksti = input(\"Anna teksti: \")\n    if (teksti == \"lopeta\"):\n        print(\"Lopetetaan.\")\n        break\n    else:\n        luku = input(\"Anna luku: \")\n        luku = int(luku)\n        funktio()\n        print(\"\")\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            },
            {
                "file_name": "LO5-T4.py",
                "python_code": "def paaohjelma():\n    while (True):\n        merkkijono = kysymysohjelma()\n        pituus = pituusohjelma(merkkijono)\n        if (pituus < minimi):\n            print(\"Liian lyhyt,\",pituus,\"merkkiä, anna uusi.\")\n        elif (pituus > maksimi):\n            print(\"Liian pitkä,\",pituus,\"merkkiä, anna uusi.\")\n        else:\n            print(\"Annoit sopivan merkkijonon,\",pituus,\"merkkiä.\")\n            print(\"Kiitos ohjelman käytöstä.\")\n            break\n    return merkkijono, pituus\n\ndef kysymysohjelma():\n    strmin = str(minimi)\n    strmax = str(maksimi)\n    x = input(\"Anna merkkijono, \"+strmin+\"-\"+strmax+\" merkkiä: \")\n    return x\n\n\ndef pituusohjelma(p):\n    amount = 0\n    for n in p:\n        amount = amount + 1\n    return amount\n\nmaksimi = 15\nminimi = 5\n\npaaohjelma()"
            },
            {
                "file_name": "LO5-T5.py",
                "python_code": "def Valikko():\n    print(\"Tämä laskin osaa seuraavat toiminnot:\")\n    print(\"1) Anna luvut\")\n    print(\"2) Summa\")\n    print(\"3) Osamäärä\")\n    print(\"0) Lopeta\")\n    toiminto = input(\"Valitse toiminto (0-3): \")\n    toiminto = int(toiminto)\n    return toiminto\n\ndef AnnaLuku():\n    n1 = input(\"Anna ensimmäinen luku: \")\n    n1 = int(n1)\n    n2 = input(\"Anna toinen luku: \")\n    n2 = int(n2)\n    print(\"Annoit luvut\",str(n1),\"ja\",str(n2))\n    return n1, n2\n\ndef Summa(a1, a2):\n    a3 = a1 + a2\n    apalautus = print(\"Summa\",a1,\"+\",a2,\"=\",a3)\n    return apalautus\n\ndef Osamaara(b1, b2):\n    if (b2 == 0):\n        bpalautus = print(\"Nollalla ei voi jakaa.\")\n    else:\n        b3 = round(b1 / b2,2)\n        bpalautus = print(\"Osamäärä\",str(b1),\"/\",str(b2),\"=\",b3)\n    return bpalautus\n\ndef paaohjelma():\n    while (True):\n        valinta = Valikko()\n        if (valinta == 1):\n            luku1, luku2 = AnnaLuku()\n        elif (valinta == 2):\n            summaus = Summa(luku1, luku2)\n        elif (valinta == 3):\n            jako = Osamaara(luku1, luku2)\n        elif (valinta == 0):\n            print(\"Lopetetaan\")\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n\npaaohjelma()"
            },
            {
                "file_name": "LO5-Testisivu.py",
                "python_code": ""
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 43,
                            "msg": "Line 19: Returning multiple values at once.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 38,
                            "msg": "No function defition for 'paaohjelma'.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 21: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 23: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 24: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 25: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 28: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 33: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 32,
                            "msg": "Line 1: Global variable 'luku1'.",
                            "severity": 1,
                            "start": 8,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 32,
                            "msg": "Line 2: Global variable 'luku2'.",
                            "severity": 1,
                            "start": 8,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 33,
                            "msg": "Line 23: Global variable 'luku3'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T2.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 43,
                            "msg": "Line 13: Returning multiple values at once.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 49,
                            "msg": "Line 15: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 22: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 28: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 29: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        }
                    ],
                    "file_name": "LO5-T4.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 60,
                            "msg": "Line 1: Missing return at the end of the function 'funktio'.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 38,
                            "msg": "No function defition for 'paaohjelma'.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 5: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 16: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 32,
                            "msg": "Line 11: Global variable 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T3.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 38,
                            "msg": "No function defition for 'paaohjelma'.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 6: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 7: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 8: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 48,
                            "msg": "Line 9: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 10: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 11: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 12: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 18: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 19: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 20: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 21: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 22: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 23: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 27: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 49,
                            "msg": "Line 28: Statement seems to be in wrong location.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 32,
                            "msg": "Line 10: Global variable 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T1.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 64,
                            "msg": "Functions, violations detected please see Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 10
                        },
                        {
                            "end": 43,
                            "msg": "Line 17: Returning multiple values at once.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 64,
                            "msg": "Line 32: Missing return at the end of the function 'paaohjelma'.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        }
                    ],
                    "file_name": "LO5-T5.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 39,
                            "msg": "Basic commands: No violations detected.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 34,
                            "msg": "Functions: No violations detected.",
                            "severity": 4,
                            "start": 10
                        }
                    ],
                    "file_name": "LO5-Testisivu.py"
                }
            ]
        },
        "createdAt": "2024-09-27 14:00:47.262000",
        "__v": 0
    },
    {
        "_id": "66f6baa30848e3c3b7bfc765",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 1,
            "data_structure": 1,
            "library": 1,
            "exception_handling": 1
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "HTTavoite.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTTavoite.py\n\nimport numpy\nimport HTTavoiteKirjasto\n\nVIIKKOJA = 14 # Kiintoarvot (config)\nTUNTEJA = 24\nPAIVIA = 7\n\ndef valikko():\n    print(\"Mitä haluat tehdä:\")\n    print(\"1) Lue tiedosto\")\n    print(\"2) Analysoi palautukset\")\n    print(\"3) Tallenna tulokset\")\n    print(\"4) Analysoi opiskelijoiden palautusmäärät\")\n    print(\"5) Analysoi tuntikohtaiset palautukset\")\n    print(\"6) Analysoi aikavälien palautukset\")\n    print(\"0) Lopeta\")\n    while(True):\n        try:\n            valinta = int(input(\"Valintasi: \"))\n            break\n        except Exception:\n            print(\"Anna valinta kokonaislukuna.\")\n    return valinta\n\ndef paaohjelma():\n    lista = [] # Alustukset ja alkutoimenpiteet\n    analyysi = []\n    opiskelijat = {}\n    tehtavat = {}\n\n    while (True):\n        valinta = valikko()\n        if valinta == 1:\n            lista = HTTavoiteKirjasto.Lue(lista)\n        elif valinta == 2:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Analyysi(lista, analyysi)\n        elif valinta == 3:\n            if len(lista) == 0:\n                print(\"Ei tietoja tallennettavaksi, analysoi tiedot ennen tallennusta.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Tallenna(analyysi)\n        elif valinta == 4:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Palautus(lista, opiskelijat, tehtavat)\n        elif valinta == 5:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                tuntimatriisi = numpy.zeros((VIIKKOJA, TUNTEJA), int)\n                HTTavoiteKirjasto.Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA)\n                numpy.delete(tuntimatriisi, numpy.s_[:], None) # Tuhoaa matriisin käytön jälkeen.\n        elif valinta == 6:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                viikkomatriisi = numpy.zeros((VIIKKOJA, PAIVIA), int)\n                HTTavoiteKirjasto.Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA)\n                numpy.delete(viikkomatriisi, numpy.s_[:], None)\n        elif valinta == 0:\n            lista.clear()\n            analyysi.clear()\n            opiskelijat.clear()\n            tehtavat.clear()\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\" + '\\n')\n            print(\"Anna uusi valinta.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n    return None\n\npaaohjelma()\n\n#eof\n"
            },
            {
                "file_name": "HTTavoiteKirjasto.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTPerusKirjasto.py\n\nimport sys\nimport numpy\nimport datetime\n\n__version__ = \"1.2\"\n\nclass TIEDOT():\n    pvm = str\n    optunnus = str\n    tehtava = str\n\nclass TULOKSET():\n    teht = str\n    tehtnro = str\n\ndef Lue(lista):\n    try:\n        lista1 = [] # Tilapäislista\n        lista.clear()  # Tyhjennetään lista ennen lukua.\n        rfile = input(\"Anna luettavan tiedoston nimi: \")\n        luettava = open(rfile, \"r\", encoding=\"utf-8\")\n        luettava.readline()  # Lukee otsikkorivim pois.\n        n = 0  # Ilmoittaa rivimäärän.\n        for rivi in luettava:\n            n = n + 1\n            rivi = rivi.strip()\n            lista1 = rivi.split(';')\n            data = TIEDOT()\n            data.pvm = datetime.datetime.strptime(lista1[0], \"%d-%m-%Y %H:%M:%S\")\n            data.optunnus = lista1[1]\n            data.tehtava = lista1[2]\n            lista.append(data)\n        print(f\"Tiedostosta '{rfile}' luettiin listaan {n} datarivin tiedot.\" + '\\n')\n        luettava.close()\n        lista1.clear()\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{rfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return lista\n\ndef Analyysi(lista, analyysi):\n    lista2 = []\n    lista3 = []\n    analyysi.clear()\n\n    for data in lista:  # Ajetaan tehtäväkohtainen lista.\n        lista2.append(data.tehtava)\n        \n    alkio = lista2[0]\n    k = 0  # Laskee eri tehtävien lm.\n    tn = 0  # Tehtäväkohtainen numero.\n    n = 0  # Rivi-indikaattori\n\n    for rivi in lista2:  # Lasketaan tehtäväkohtainen data listaan.\n        n = n + 1\n        if alkio != rivi:\n            tulos = TULOKSET()\n            tulos.teht = alkio\n            tulos.tehtnro = tn\n            lista3.append(tulos)\n            alkio = rivi\n            k = k + 1\n            tn = 0\n        if n == len(lista2):\n            tulos = TULOKSET()\n            tulos.teht = (lista2[n-1])\n            tulos.tehtnro = tn + 1\n            lista3.append(tulos)\n            k = k + 1\n        else:\n            tn = tn + 1\n\n    for rivi in lista3:  # Ääriarvovertailun pohjatiedot\n        suurin = rivi.tehtnro\n        pienin = rivi.tehtnro\n        suurinteht = rivi.teht\n        pieninteht = rivi.teht\n        break\n\n    for rivi in lista3:  \n        if rivi.tehtnro > suurin: # Suuremmuusvertailu.\n            suurin = rivi.tehtnro\n            suurinteht = rivi.teht\n        if rivi.tehtnro < pienin: # Pienemmyysvertailu.\n            pienin = rivi.tehtnro\n            pieninteht = rivi.teht\n\n    # Viimeistelty analyysi\n    analyysi.append(f\"Palautuksia tuli yhteensä {len(lista2)}, {k} eri tehtävään.\")\n    analyysi.append(f\"Viikkotehtäviin tuli keskimäärin {int(len(lista2) / k)} palautusta.\")\n    analyysi.append(f\"Eniten palautuksia, {suurin}, tuli viikkotehtävään {suurinteht}.\")\n    analyysi.append(f\"Vähiten palautuksia, {pienin}, tuli viikkotehtävään {pieninteht}.\")\n    analyysi.append(\"\")\n    analyysi.append(\"Tehtävä;Lukumäärä\")\n    for rivi in lista3:\n        analyysi.append(f\"{rivi.teht};{rivi.tehtnro}\")\n\n    print(f\"Analysoitu {len(lista2)} palautusta {k} eri tehtävään.\")\n    print(\"Tilastotiedot analysoitu.\" + '\\n')\n    lista2.clear()\n    lista3.clear()\n    print(\"Anna uusi valinta.\")\n    return analyysi\n\ndef Tallenna(analyysi):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        for rivi in analyysi:\n            kirjoitettava.write(rivi + '\\n')\n            print(rivi)\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef Palautus(lista, opiskelijat, tehtavat):\n    for data in lista: # Laskee opiskelijakohtaisen palautusmäärän\n        if data.optunnus not in opiskelijat:\n            opiskelijat[data.optunnus] = 1\n        else:\n            opiskelijat[data.optunnus] += 1\n    for i in range(0,61):\n        tehtavat[i] = 0\n    for n in opiskelijat.values():\n        tehtavat[n] += 1\n    print(\"Tehtäväkohtaiset pisteet analysoitu.\")\n    TallennaPalautus(tehtavat)  # Tallennuskutsu\n    opiskelijat.clear()\n    tehtavat.clear()\n    return None\n\ndef Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        TUNTI = int(data.pvm.strftime(\"%H\"))\n        tuntimatriisi[VIIKKO - 1][TUNTI] += 1\n    print(\"Tuntikohtaiset palautukset analysoitu.\")\n    TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA)\n    return None\n\ndef Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        PALAIKA = data.pvm\n        ALKAIKA = datetime.datetime.strptime('01.09.2020 06:00:00', \"%d.%m.%Y %H:%M:%S\")\n        AIKAERO = PALAIKA - ALKAIKA\n        if VIIKKO == 7: # Poikkeustilanne\n            PAIVA = int(int(AIKAERO.days) / 2 % 7)\n        else:\n            PAIVA = int(AIKAERO.days) % 7\n        viikkomatriisi[VIIKKO - 1][PAIVA] += 1\n    print(\"Aikavälikohtaiset palautukset analysoitu.\")\n    TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA)\n    return None\n\ndef TallennaPalautus(tehtavat):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Pistemäärä;Opiskelijoita\" + '\\n')\n        for teht, maar in tehtavat.items():\n            kirjoitettava.write(f\"{teht};{maar}\" + '\\n')\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Tunti;\")\n        for tunti in range(TUNTEJA):\n            if tunti == (TUNTEJA - 1):\n                kirjoitettava.write(f\"{TUNTEJA-1}\" + '\\n')\n            else:\n                kirjoitettava.write(f\"{tunti};\")\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for tunti in range(1, (TUNTEJA + 1)):\n                if tunti == TUNTEJA:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Aikaväli;\")\n        for paiva in range(PAIVIA):\n            if paiva == (PAIVIA - 1):\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")}' + '\\n')\n            else:\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")};')\n                ALKAIKA = ALKAIKA + datetime.timedelta(days = 1)\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for paiva in range(PAIVIA):\n                if paiva == (PAIVIA - 1):\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\n#eof\n"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        },
                        {
                            "end": 57,
                            "msg": "Rivi 51: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 130: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 185: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 210: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 236: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        }
                    ],
                    "file_name": "HTTavoiteKirjasto.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        },
                        {
                            "end": 57,
                            "msg": "Rivi 35: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "PK1-2"
                        }
                    ],
                    "file_name": "HTTavoite.py"
                }
            ]
        },
        "createdAt": "2024-09-27 14:01:07.665000",
        "__v": 0
    },
    {
        "_id": "66f6baab0848e3c3b7bfc767",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA",
        "selected_analysis": {
            "basic": 1,
            "function": 0,
            "file_handling": 1,
            "data_structure": 0,
            "library": 1,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "HTTavoite.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTTavoite.py\n\nimport numpy\nimport HTTavoiteKirjasto\n\nVIIKKOJA = 14 # Kiintoarvot (config)\nTUNTEJA = 24\nPAIVIA = 7\n\ndef valikko():\n    print(\"Mitä haluat tehdä:\")\n    print(\"1) Lue tiedosto\")\n    print(\"2) Analysoi palautukset\")\n    print(\"3) Tallenna tulokset\")\n    print(\"4) Analysoi opiskelijoiden palautusmäärät\")\n    print(\"5) Analysoi tuntikohtaiset palautukset\")\n    print(\"6) Analysoi aikavälien palautukset\")\n    print(\"0) Lopeta\")\n    while(True):\n        try:\n            valinta = int(input(\"Valintasi: \"))\n            break\n        except Exception:\n            print(\"Anna valinta kokonaislukuna.\")\n    return valinta\n\ndef paaohjelma():\n    lista = [] # Alustukset ja alkutoimenpiteet\n    analyysi = []\n    opiskelijat = {}\n    tehtavat = {}\n\n    while (True):\n        valinta = valikko()\n        if valinta == 1:\n            lista = HTTavoiteKirjasto.Lue(lista)\n        elif valinta == 2:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Analyysi(lista, analyysi)\n        elif valinta == 3:\n            if len(lista) == 0:\n                print(\"Ei tietoja tallennettavaksi, analysoi tiedot ennen tallennusta.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Tallenna(analyysi)\n        elif valinta == 4:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Palautus(lista, opiskelijat, tehtavat)\n        elif valinta == 5:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                tuntimatriisi = numpy.zeros((VIIKKOJA, TUNTEJA), int)\n                HTTavoiteKirjasto.Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA)\n                numpy.delete(tuntimatriisi, numpy.s_[:], None) # Tuhoaa matriisin käytön jälkeen.\n        elif valinta == 6:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                viikkomatriisi = numpy.zeros((VIIKKOJA, PAIVIA), int)\n                HTTavoiteKirjasto.Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA)\n                numpy.delete(viikkomatriisi, numpy.s_[:], None)\n        elif valinta == 0:\n            lista.clear()\n            analyysi.clear()\n            opiskelijat.clear()\n            tehtavat.clear()\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\" + '\\n')\n            print(\"Anna uusi valinta.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n    return None\n\npaaohjelma()\n\n#eof\n"
            },
            {
                "file_name": "HTTavoiteKirjasto.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTPerusKirjasto.py\n\nimport sys\nimport numpy\nimport datetime\n\n__version__ = \"1.2\"\n\nclass TIEDOT():\n    pvm = str\n    optunnus = str\n    tehtava = str\n\nclass TULOKSET():\n    teht = str\n    tehtnro = str\n\ndef Lue(lista):\n    try:\n        lista1 = [] # Tilapäislista\n        lista.clear()  # Tyhjennetään lista ennen lukua.\n        rfile = input(\"Anna luettavan tiedoston nimi: \")\n        luettava = open(rfile, \"r\", encoding=\"utf-8\")\n        luettava.readline()  # Lukee otsikkorivim pois.\n        n = 0  # Ilmoittaa rivimäärän.\n        for rivi in luettava:\n            n = n + 1\n            rivi = rivi.strip()\n            lista1 = rivi.split(';')\n            data = TIEDOT()\n            data.pvm = datetime.datetime.strptime(lista1[0], \"%d-%m-%Y %H:%M:%S\")\n            data.optunnus = lista1[1]\n            data.tehtava = lista1[2]\n            lista.append(data)\n        print(f\"Tiedostosta '{rfile}' luettiin listaan {n} datarivin tiedot.\" + '\\n')\n        luettava.close()\n        lista1.clear()\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{rfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return lista\n\ndef Analyysi(lista, analyysi):\n    lista2 = []\n    lista3 = []\n    analyysi.clear()\n\n    for data in lista:  # Ajetaan tehtäväkohtainen lista.\n        lista2.append(data.tehtava)\n        \n    alkio = lista2[0]\n    k = 0  # Laskee eri tehtävien lm.\n    tn = 0  # Tehtäväkohtainen numero.\n    n = 0  # Rivi-indikaattori\n\n    for rivi in lista2:  # Lasketaan tehtäväkohtainen data listaan.\n        n = n + 1\n        if alkio != rivi:\n            tulos = TULOKSET()\n            tulos.teht = alkio\n            tulos.tehtnro = tn\n            lista3.append(tulos)\n            alkio = rivi\n            k = k + 1\n            tn = 0\n        if n == len(lista2):\n            tulos = TULOKSET()\n            tulos.teht = (lista2[n-1])\n            tulos.tehtnro = tn + 1\n            lista3.append(tulos)\n            k = k + 1\n        else:\n            tn = tn + 1\n\n    for rivi in lista3:  # Ääriarvovertailun pohjatiedot\n        suurin = rivi.tehtnro\n        pienin = rivi.tehtnro\n        suurinteht = rivi.teht\n        pieninteht = rivi.teht\n        break\n\n    for rivi in lista3:  \n        if rivi.tehtnro > suurin: # Suuremmuusvertailu.\n            suurin = rivi.tehtnro\n            suurinteht = rivi.teht\n        if rivi.tehtnro < pienin: # Pienemmyysvertailu.\n            pienin = rivi.tehtnro\n            pieninteht = rivi.teht\n\n    # Viimeistelty analyysi\n    analyysi.append(f\"Palautuksia tuli yhteensä {len(lista2)}, {k} eri tehtävään.\")\n    analyysi.append(f\"Viikkotehtäviin tuli keskimäärin {int(len(lista2) / k)} palautusta.\")\n    analyysi.append(f\"Eniten palautuksia, {suurin}, tuli viikkotehtävään {suurinteht}.\")\n    analyysi.append(f\"Vähiten palautuksia, {pienin}, tuli viikkotehtävään {pieninteht}.\")\n    analyysi.append(\"\")\n    analyysi.append(\"Tehtävä;Lukumäärä\")\n    for rivi in lista3:\n        analyysi.append(f\"{rivi.teht};{rivi.tehtnro}\")\n\n    print(f\"Analysoitu {len(lista2)} palautusta {k} eri tehtävään.\")\n    print(\"Tilastotiedot analysoitu.\" + '\\n')\n    lista2.clear()\n    lista3.clear()\n    print(\"Anna uusi valinta.\")\n    return analyysi\n\ndef Tallenna(analyysi):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        for rivi in analyysi:\n            kirjoitettava.write(rivi + '\\n')\n            print(rivi)\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef Palautus(lista, opiskelijat, tehtavat):\n    for data in lista: # Laskee opiskelijakohtaisen palautusmäärän\n        if data.optunnus not in opiskelijat:\n            opiskelijat[data.optunnus] = 1\n        else:\n            opiskelijat[data.optunnus] += 1\n    for i in range(0,61):\n        tehtavat[i] = 0\n    for n in opiskelijat.values():\n        tehtavat[n] += 1\n    print(\"Tehtäväkohtaiset pisteet analysoitu.\")\n    TallennaPalautus(tehtavat)  # Tallennuskutsu\n    opiskelijat.clear()\n    tehtavat.clear()\n    return None\n\ndef Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        TUNTI = int(data.pvm.strftime(\"%H\"))\n        tuntimatriisi[VIIKKO - 1][TUNTI] += 1\n    print(\"Tuntikohtaiset palautukset analysoitu.\")\n    TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA)\n    return None\n\ndef Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        PALAIKA = data.pvm\n        ALKAIKA = datetime.datetime.strptime('01.09.2020 06:00:00', \"%d.%m.%Y %H:%M:%S\")\n        AIKAERO = PALAIKA - ALKAIKA\n        if VIIKKO == 7: # Poikkeustilanne\n            PAIVA = int(int(AIKAERO.days) / 2 % 7)\n        else:\n            PAIVA = int(AIKAERO.days) % 7\n        viikkomatriisi[VIIKKO - 1][PAIVA] += 1\n    print(\"Aikavälikohtaiset palautukset analysoitu.\")\n    TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA)\n    return None\n\ndef TallennaPalautus(tehtavat):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Pistemäärä;Opiskelijoita\" + '\\n')\n        for teht, maar in tehtavat.items():\n            kirjoitettava.write(f\"{teht};{maar}\" + '\\n')\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Tunti;\")\n        for tunti in range(TUNTEJA):\n            if tunti == (TUNTEJA - 1):\n                kirjoitettava.write(f\"{TUNTEJA-1}\" + '\\n')\n            else:\n                kirjoitettava.write(f\"{tunti};\")\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for tunti in range(1, (TUNTEJA + 1)):\n                if tunti == TUNTEJA:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Aikaväli;\")\n        for paiva in range(PAIVIA):\n            if paiva == (PAIVIA - 1):\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")}' + '\\n')\n            else:\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")};')\n                ALKAIKA = ALKAIKA + datetime.timedelta(days = 1)\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for paiva in range(PAIVIA):\n                if paiva == (PAIVIA - 1):\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\n#eof\n"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        }
                    ],
                    "file_name": "HTTavoite.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        }
                    ],
                    "file_name": "HTTavoiteKirjasto.py"
                }
            ]
        },
        "createdAt": "2024-09-27 14:01:15.090000",
        "__v": 0
    },
    {
        "_id": "66f919230848e3c3b7bfc769",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "LO5-T3.py",
                "python_code": "def funktio():\n    for n in range(0,luku):\n        print(teksti)\n\nwhile (True):\n    teksti = input(\"Anna teksti: \")\n    if (teksti == \"lopeta\"):\n        print(\"Lopetetaan.\")\n        break\n    else:\n        luku = input(\"Anna luku: \")\n        luku = int(luku)\n        funktio()\n        print(\"\")\n\nprint(\"Kiitos ohjelman käytöstä.\")"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 1: Aliohjelman 'funktio' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 52,
                            "msg": "Ohjelmasta ei löytynyt määrittelyä 'paaohjelma':lle.",
                            "severity": 3,
                            "start": 0,
                            "violation_id": "AR1"
                        },
                        {
                            "end": 61,
                            "msg": "Rivi 5: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 8,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 16: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 33,
                            "msg": "Rivi 11: Globaalimuuttuja 'luku'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "LO5-T3.py"
                }
            ]
        },
        "createdAt": "2024-09-29 09:08:51.953000",
        "__v": 0
    },
    {
        "_id": "66fa50030848e3c3b7bfc76b",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 1,
            "data_structure": 1,
            "library": 1,
            "exception_handling": 1
        },
        "analysis_type": "default",
        "analysis_lang": "api-lang-tag-fi-FI",
        "analysis_files": [
            {
                "file_name": "HTTavoite.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTTavoite.py\n\nimport numpy\nimport HTTavoiteKirjasto\n\nVIIKKOJA = 14 # Kiintoarvot (config)\nTUNTEJA = 24\nPAIVIA = 7\n\ndef valikko():\n    print(\"Mitä haluat tehdä:\")\n    print(\"1) Lue tiedosto\")\n    print(\"2) Analysoi palautukset\")\n    print(\"3) Tallenna tulokset\")\n    print(\"4) Analysoi opiskelijoiden palautusmäärät\")\n    print(\"5) Analysoi tuntikohtaiset palautukset\")\n    print(\"6) Analysoi aikavälien palautukset\")\n    print(\"0) Lopeta\")\n    while(True):\n        try:\n            valinta = int(input(\"Valintasi: \"))\n            break\n        except Exception:\n            print(\"Anna valinta kokonaislukuna.\")\n    return valinta\n\ndef paaohjelma():\n    lista = [] # Alustukset ja alkutoimenpiteet\n    analyysi = []\n    opiskelijat = {}\n    tehtavat = {}\n\n    while (True):\n        valinta = valikko()\n        if valinta == 1:\n            lista = HTTavoiteKirjasto.Lue(lista)\n        elif valinta == 2:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Analyysi(lista, analyysi)\n        elif valinta == 3:\n            if len(lista) == 0:\n                print(\"Ei tietoja tallennettavaksi, analysoi tiedot ennen tallennusta.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Tallenna(analyysi)\n        elif valinta == 4:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Palautus(lista, opiskelijat, tehtavat)\n        elif valinta == 5:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                tuntimatriisi = numpy.zeros((VIIKKOJA, TUNTEJA), int)\n                HTTavoiteKirjasto.Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA)\n                numpy.delete(tuntimatriisi, numpy.s_[:], None) # Tuhoaa matriisin käytön jälkeen.\n        elif valinta == 6:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                viikkomatriisi = numpy.zeros((VIIKKOJA, PAIVIA), int)\n                HTTavoiteKirjasto.Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA)\n                numpy.delete(viikkomatriisi, numpy.s_[:], None)\n        elif valinta == 0:\n            lista.clear()\n            analyysi.clear()\n            opiskelijat.clear()\n            tehtavat.clear()\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\" + '\\n')\n            print(\"Anna uusi valinta.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n    return None\n\npaaohjelma()\n\n#eof\n"
            },
            {
                "file_name": "HTTavoiteKirjasto.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTPerusKirjasto.py\n\nimport sys\nimport numpy\nimport datetime\n\n__version__ = \"1.2\"\n\nclass TIEDOT():\n    pvm = str\n    optunnus = str\n    tehtava = str\n\nclass TULOKSET():\n    teht = str\n    tehtnro = str\n\ndef Lue(lista):\n    try:\n        lista1 = [] # Tilapäislista\n        lista.clear()  # Tyhjennetään lista ennen lukua.\n        rfile = input(\"Anna luettavan tiedoston nimi: \")\n        luettava = open(rfile, \"r\", encoding=\"utf-8\")\n        luettava.readline()  # Lukee otsikkorivim pois.\n        n = 0  # Ilmoittaa rivimäärän.\n        for rivi in luettava:\n            n = n + 1\n            rivi = rivi.strip()\n            lista1 = rivi.split(';')\n            data = TIEDOT()\n            data.pvm = datetime.datetime.strptime(lista1[0], \"%d-%m-%Y %H:%M:%S\")\n            data.optunnus = lista1[1]\n            data.tehtava = lista1[2]\n            lista.append(data)\n        print(f\"Tiedostosta '{rfile}' luettiin listaan {n} datarivin tiedot.\" + '\\n')\n        luettava.close()\n        lista1.clear()\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{rfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return lista\n\ndef Analyysi(lista, analyysi):\n    lista2 = []\n    lista3 = []\n    analyysi.clear()\n\n    for data in lista:  # Ajetaan tehtäväkohtainen lista.\n        lista2.append(data.tehtava)\n        \n    alkio = lista2[0]\n    k = 0  # Laskee eri tehtävien lm.\n    tn = 0  # Tehtäväkohtainen numero.\n    n = 0  # Rivi-indikaattori\n\n    for rivi in lista2:  # Lasketaan tehtäväkohtainen data listaan.\n        n = n + 1\n        if alkio != rivi:\n            tulos = TULOKSET()\n            tulos.teht = alkio\n            tulos.tehtnro = tn\n            lista3.append(tulos)\n            alkio = rivi\n            k = k + 1\n            tn = 0\n        if n == len(lista2):\n            tulos = TULOKSET()\n            tulos.teht = (lista2[n-1])\n            tulos.tehtnro = tn + 1\n            lista3.append(tulos)\n            k = k + 1\n        else:\n            tn = tn + 1\n\n    for rivi in lista3:  # Ääriarvovertailun pohjatiedot\n        suurin = rivi.tehtnro\n        pienin = rivi.tehtnro\n        suurinteht = rivi.teht\n        pieninteht = rivi.teht\n        break\n\n    for rivi in lista3:  \n        if rivi.tehtnro > suurin: # Suuremmuusvertailu.\n            suurin = rivi.tehtnro\n            suurinteht = rivi.teht\n        if rivi.tehtnro < pienin: # Pienemmyysvertailu.\n            pienin = rivi.tehtnro\n            pieninteht = rivi.teht\n\n    # Viimeistelty analyysi\n    analyysi.append(f\"Palautuksia tuli yhteensä {len(lista2)}, {k} eri tehtävään.\")\n    analyysi.append(f\"Viikkotehtäviin tuli keskimäärin {int(len(lista2) / k)} palautusta.\")\n    analyysi.append(f\"Eniten palautuksia, {suurin}, tuli viikkotehtävään {suurinteht}.\")\n    analyysi.append(f\"Vähiten palautuksia, {pienin}, tuli viikkotehtävään {pieninteht}.\")\n    analyysi.append(\"\")\n    analyysi.append(\"Tehtävä;Lukumäärä\")\n    for rivi in lista3:\n        analyysi.append(f\"{rivi.teht};{rivi.tehtnro}\")\n\n    print(f\"Analysoitu {len(lista2)} palautusta {k} eri tehtävään.\")\n    print(\"Tilastotiedot analysoitu.\" + '\\n')\n    lista2.clear()\n    lista3.clear()\n    print(\"Anna uusi valinta.\")\n    return analyysi\n\ndef Tallenna(analyysi):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        for rivi in analyysi:\n            kirjoitettava.write(rivi + '\\n')\n            print(rivi)\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef Palautus(lista, opiskelijat, tehtavat):\n    for data in lista: # Laskee opiskelijakohtaisen palautusmäärän\n        if data.optunnus not in opiskelijat:\n            opiskelijat[data.optunnus] = 1\n        else:\n            opiskelijat[data.optunnus] += 1\n    for i in range(0,61):\n        tehtavat[i] = 0\n    for n in opiskelijat.values():\n        tehtavat[n] += 1\n    print(\"Tehtäväkohtaiset pisteet analysoitu.\")\n    TallennaPalautus(tehtavat)  # Tallennuskutsu\n    opiskelijat.clear()\n    tehtavat.clear()\n    return None\n\ndef Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        TUNTI = int(data.pvm.strftime(\"%H\"))\n        tuntimatriisi[VIIKKO - 1][TUNTI] += 1\n    print(\"Tuntikohtaiset palautukset analysoitu.\")\n    TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA)\n    return None\n\ndef Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        PALAIKA = data.pvm\n        ALKAIKA = datetime.datetime.strptime('01.09.2020 06:00:00', \"%d.%m.%Y %H:%M:%S\")\n        AIKAERO = PALAIKA - ALKAIKA\n        if VIIKKO == 7: # Poikkeustilanne\n            PAIVA = int(int(AIKAERO.days) / 2 % 7)\n        else:\n            PAIVA = int(AIKAERO.days) % 7\n        viikkomatriisi[VIIKKO - 1][PAIVA] += 1\n    print(\"Aikavälikohtaiset palautukset analysoitu.\")\n    TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA)\n    return None\n\ndef TallennaPalautus(tehtavat):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Pistemäärä;Opiskelijoita\" + '\\n')\n        for teht, maar in tehtavat.items():\n            kirjoitettava.write(f\"{teht};{maar}\" + '\\n')\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Tunti;\")\n        for tunti in range(TUNTEJA):\n            if tunti == (TUNTEJA - 1):\n                kirjoitettava.write(f\"{TUNTEJA-1}\" + '\\n')\n            else:\n                kirjoitettava.write(f\"{tunti};\")\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for tunti in range(1, (TUNTEJA + 1)):\n                if tunti == TUNTEJA:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Aikaväli;\")\n        for paiva in range(PAIVIA):\n            if paiva == (PAIVIA - 1):\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")}' + '\\n')\n            else:\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")};')\n                ALKAIKA = ALKAIKA + datetime.timedelta(days = 1)\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for paiva in range(PAIVIA):\n                if paiva == (PAIVIA - 1):\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\n#eof\n"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        },
                        {
                            "end": 57,
                            "msg": "Rivi 35: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "PK1-2"
                        }
                    ],
                    "file_name": "HTTavoite.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        },
                        {
                            "end": 57,
                            "msg": "Rivi 51: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 130: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 185: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 210: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        },
                        {
                            "end": 58,
                            "msg": "Rivi 236: Tällä kurssilla virhetyypin tulisi olla OSError.",
                            "severity": 2,
                            "start": 10,
                            "violation_id": "PK1-2"
                        }
                    ],
                    "file_name": "HTTavoiteKirjasto.py"
                }
            ]
        },
        "createdAt": "2024-09-30 07:15:15.635000",
        "__v": 0
    },
    {
        "_id": "66fa76db0848e3c3b7bfc76d",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämän pitäisi olla KIINTOARVO, mutta koska arvoa muutetaan siitä tulee MUUTTUJA\r\nKUUKAUSI_LKM = 12  # Virhe 5 - Globaalimuuttuja \"KUUKAUSI_LKM\"\r\n\r\ndef paaohjelma():  # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    Valinta = 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef tulostaTervehdys(nimi):\r\n    KUUKAUSI_LKM = 10\r\n    print(\"Hei,\", nimi, \"tiesitkö että vuodessa on\", KUUKAUSI_LKM, \"kuukautta.\" )\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 22: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 58: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 72: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 46: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 55: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 65: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 69: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 66,
                            "msg": "Rivi 70: Muuttujalla ja kiintoarvolla on sama nimi 'KUUKAUSI_LKM'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        }
                    ],
                    "file_name": "aspa_demo.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:00:59.152000",
        "__v": 0
    },
    {
        "_id": "66fa77250848e3c3b7bfc76f",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo_orig.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämän pitäisi olla KIINTOARVO, mutta koska arvoa muutetaan siitä tulee MUUTTUJA\r\nKUUKAUSI_LKM = 12  # Virhe 5 - Globaalimuuttuja \"KUUKAUSI_LKM\"\r\n\r\ndef paaohjelma():  # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    Valinta = 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef tulostaTervehdys(nimi):\r\n    KUUKAUSI_LKM = 10\r\n    print(\"Hei,\", nimi, \"tiesitkö että vuodessa on\", KUUKAUSI_LKM, \"kuukautta.\" )\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 22: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 58: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 72: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 46: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 55: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 65: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 69: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 66,
                            "msg": "Rivi 70: Muuttujalla ja kiintoarvolla on sama nimi 'KUUKAUSI_LKM'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        }
                    ],
                    "file_name": "aspa_demo_orig.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:02:13.026000",
        "__v": 0
    },
    {
        "_id": "66fa77620848e3c3b7bfc771",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo_orig.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämän pitäisi olla KIINTOARVO, mutta koska arvoa muutetaan siitä tulee MUUTTUJA\r\na = 12  # Virhe 5 - Globaalimuuttuja \"KUUKAUSI_LKM\"\r\n\r\ndef paaohjelma():  # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    Valinta = 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef tulostaTervehdys(nimi):\r\n    a = 10\r\n    print(\"Hei,\", nimi, \"tiesitkö että vuodessa on\", a, \"kuukautta.\" )\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 22: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 58: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 72: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 46: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 55: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 65: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 69: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 55,
                            "msg": "Rivi 70: Muuttujalla ja kiintoarvolla on sama nimi 'a'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        }
                    ],
                    "file_name": "aspa_demo_orig.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:03:14.094000",
        "__v": 0
    },
    {
        "_id": "66fa78110848e3c3b7bfc773",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo_orig.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämän pitäisi olla KIINTOARVO, mutta koska arvoa muutetaan siitä tulee MUUTTUJA\r\na = 12  # Virhe 5 - Globaalimuuttuja \"KUUKAUSI_LKM\"\r\n\r\ndef paaohjelma():  # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    Valinta = 1\r\n    global a\r\n    # a = 1\r\n    a = a + 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef tulostaTervehdys(nimi):\r\n    a = 10\r\n    print(\"Hei,\", nimi, \"tiesitkö että vuodessa on\", a, \"kuukautta.\" )\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 22: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 30,
                            "msg": "Rivi 24: Globaalimuuttuja 'a'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 61: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 75: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 49: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 58: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 68: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 72: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 55,
                            "msg": "Rivi 73: Muuttujalla ja kiintoarvolla on sama nimi 'a'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        }
                    ],
                    "file_name": "aspa_demo_orig.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:06:09.123000",
        "__v": 0
    },
    {
        "_id": "66fa78380848e3c3b7bfc775",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo_orig.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämän pitäisi olla KIINTOARVO, mutta koska arvoa muutetaan siitä tulee MUUTTUJA\r\na = [123]  # Virhe 5 - Globaalimuuttuja \"KUUKAUSI_LKM\"\r\n\r\ndef paaohjelma():  # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    Valinta = 1\r\n    a[0] = 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef tulostaTervehdys(nimi):\r\n    a = 10\r\n    print(\"Hei,\", nimi, \"tiesitkö että vuodessa on\", a, \"kuukautta.\" )\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 22: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 59: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 73: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 47: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 56: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 66: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 70: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 30,
                            "msg": "Rivi 20: Globaalimuuttuja 'a'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        }
                    ],
                    "file_name": "aspa_demo_orig.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:06:48.753000",
        "__v": 0
    },
    {
        "_id": "66fa79940848e3c3b7bfc777",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo_orig.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämän pitäisi olla KIINTOARVO, mutta koska arvoa muutetaan siitä tulee MUUTTUJA\r\nLista = [1, 2, 3]  # Virhe 5 - Globaalimuuttuja \"Lista\"\r\nA = 1\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    b = A\r\n    A = b\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef paaohjelma():\r\n    Valinta = 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n\r\ndef tulostaTervehdys(nimi): # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    Lista = [\"a\", \"b\", \"c\"]\r\n    print(\"Hei,\", nimi, \"tiesitkö että vuodessa on\", a, \"kuukautta.\" )\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 38: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 49: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 76: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 73: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 55,
                            "msg": "Rivi 26: Muuttujalla ja kiintoarvolla on sama nimi 'A'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        },
                        {
                            "end": 59,
                            "msg": "Rivi 74: Muuttujalla ja kiintoarvolla on sama nimi 'Lista'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        }
                    ],
                    "file_name": "aspa_demo_orig.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:12:36.879000",
        "__v": 0
    },
    {
        "_id": "66fa79be0848e3c3b7bfc779",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo_orig.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämän pitäisi olla KIINTOARVO, mutta koska arvoa muutetaan siitä tulee MUUTTUJA\r\nLista = [1, 2, 3]  # Virhe 5 - Globaalimuuttuja \"Lista\"\r\nA = 1\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    b = A\r\n    A = b\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef paaohjelma():\r\n    Valinta = 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n\r\ndef tulostaTervehdys(nimi): # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    Lista = [\"a\", \"b\", \"c\"]\r\n    Lista[0] = 1\r\n    print(\"Hei,\", nimi, \"tiesitkö että vuodessa on\", a, \"kuukautta.\" )\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 38: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 49: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 77: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 73: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 34,
                            "msg": "Rivi 20: Globaalimuuttuja 'Lista'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 55,
                            "msg": "Rivi 26: Muuttujalla ja kiintoarvolla on sama nimi 'A'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        },
                        {
                            "end": 59,
                            "msg": "Rivi 74: Muuttujalla ja kiintoarvolla on sama nimi 'Lista'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        }
                    ],
                    "file_name": "aspa_demo_orig.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:13:18.123000",
        "__v": 0
    },
    {
        "_id": "66fa79ea0848e3c3b7bfc77b",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo_orig.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämän pitäisi olla KIINTOARVO, mutta koska arvoa muutetaan siitä tulee MUUTTUJA\r\nLista = [1, 2, 3]  # Virhe 5 - Globaalimuuttuja \"Lista\"\r\nA = 1\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    A = 123\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef paaohjelma():\r\n    Valinta = 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n\r\ndef tulostaTervehdys(nimi): # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    # Lista = [\"a\", \"b\", \"c\"]\r\n    Lista[0] = 1\r\n    print(\"Hei,\", nimi, \"tiesitkö että vuodessa on\", a, \"kuukautta.\" )\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 37: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 48: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 76: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 72: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        },
                        {
                            "end": 34,
                            "msg": "Rivi 20: Globaalimuuttuja 'Lista'.",
                            "severity": 1,
                            "start": 9,
                            "violation_id": "AR3"
                        },
                        {
                            "end": 55,
                            "msg": "Rivi 25: Muuttujalla ja kiintoarvolla on sama nimi 'A'.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR3-3"
                        }
                    ],
                    "file_name": "aspa_demo_orig.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:14:02.542000",
        "__v": 0
    },
    {
        "_id": "66fa7c020848e3c3b7bfc77d",
        "email": "olli.opiskelija@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"
        ],
        "course_id": "19288",
        "resource_title": "ASPA L05",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 0,
            "data_structure": 0,
            "library": 0,
            "exception_handling": 0
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "aspa_demo_orig.py",
                "python_code": "# Yleisiä virheitä:\r\n# 1. return-komento puuttuu\r\n# 2. return-komennosta puuttuu paluuarvo\r\n# 3. Palautetaan useita paluuarvoja.\r\n# 4. Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n#       - Taulukko 5.1. Pää- ja aliohjelmat tiedostossa.\r\n#         1. Kiintoarvojen määrittelyt\r\n#         2. Aliohjelmat kutsujärjestyksessä\r\n#         3. Pääohjelma\r\n#         4. Pääohjelman kutsu\r\n#\r\n# 5. Globaalimuuttuja\r\n#    - Kaikki muuttujat pitää laittaa aliohjelmien sisällä, vain KIINTOARVOT voivat olla päätasolla.\r\n# 6. Ohjelmasta ei löytynyt määrittelyä paaohjelma:lle.\r\n#      - Tulee silloin, jos 'paaohjelma' on nimetty millä tahansa muulla nimellä.\r\n\r\n\r\n#####################################################################################\r\n\r\n# Tämä on KIINTOARVO, eli arvoa ei saa muuttaa. Kiintoarvo voi olla päätasolla.\r\nVIIKONPAIVAT_LKM = 7\r\n\r\n# Aliohjelmat\r\ndef valikko():\r\n    print(\"Valitse haluamasi toiminto:\")\r\n    print(\"1) Kysy nimet\")\r\n    print(\"2) Muodosta koko nimi\")\r\n    print(\"3) Tulosta tervehdys\")\r\n    print(\"0) Lopeta\")\r\n    Valinta = int(input(\"Anna valintasi: \"))\r\n    return Valinta\r\n\r\ndef kysyNimet():\r\n    Etunimi = input(\"Anna etunimi: \")\r\n    Sukunimi = input(\"Anna sukunimi: \")\r\n    return Etunimi, Sukunimi  # Virhe 3 - Palautetaan useita paluuarvoja\r\n\r\n## def kysyNimi(Prompti):\r\n##     Nimi = input(Prompti)\r\n##     return Nimi\r\n\r\n\r\ndef muodostaKokoNimi(Etunimi, Sukunimi):\r\n    KokoNimi = Etunimi + \" \" + Sukunimi\r\n    return KokoNimi\r\n\r\ndef paaohjelma():\r\n    Valinta = 1\r\n    while (Valinta != 0):\r\n        Valinta = valikko()\r\n        # Valintarakenne\r\n        if (Valinta == 1):\r\n            Etunimi, Sukunimi = kysyNimet()\r\n\r\n##            Etunimi = kysyNimi(\"Anna etunimi: \")\r\n##            Sukunimi = kysyNimi(\"Anna sukunimi: \")\r\n        elif (Valinta == 2):\r\n            KokoNimi = muodostaKokoNimi(Etunimi, Sukunimi)\r\n        elif (Valinta == 3):\r\n            tulostaTervehdys(KokoNimi)\r\n        elif (Valinta == 0):\r\n            print(\"Lopetetaan.\")\r\n        else:\r\n            print(\"Tuntematon valinta, yritä uudestaan.\")\r\n        print()\r\n\r\n    print(\"Kiitos ohjelman käytöstä.\")\r\n##    return None # Virhe 1 - Aliohjelman 'paaohjelma' päätason lopusta puuttuu return-komento.\r\n\r\n\r\ndef tulostaTervehdys(nimi): # Virhe 4 - Komento vaikuttaisi olevan väärässä kohdin tiedostoa.\r\n    print(\"Hei,\", nimi, \"tiesitkö että viikonpäiviä on\", VIIKONPAIVAT_LKM, \"kpl.\")\r\n    return  # Virhe 2 - return-komennosta puuttuu paluuarvo\r\n\r\n# Pääohjelma viimeisenä aliohjelmien alla/jälkeen\r\n# ...\r\n\r\n\r\n\r\n    # Pääohjelmakutsu päätasolla\r\npaaohjelma()\r\n# eof"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 77,
                            "msg": "Aliohjelmat, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Aliohjelmat':",
                            "severity": 0,
                            "start": 12
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 36: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 47: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 73: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 71: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        }
                    ],
                    "file_name": "aspa_demo_orig.py"
                }
            ]
        },
        "createdAt": "2024-09-30 10:22:58.211000",
        "__v": 0
    },
    {
        "_id": "66f6b30080a524b527d91d46",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 1,
            "data_structure": 1,
            "library": 1,
            "exception_handling": 1
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "HTTavoite.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTTavoite.py\n\nimport numpy\nimport HTTavoiteKirjasto\n\nVIIKKOJA = 14 # Kiintoarvot (config)\nTUNTEJA = 24\nPAIVIA = 7\n\ndef valikko():\n    print(\"Mitä haluat tehdä:\")\n    print(\"1) Lue tiedosto\")\n    print(\"2) Analysoi palautukset\")\n    print(\"3) Tallenna tulokset\")\n    print(\"4) Analysoi opiskelijoiden palautusmäärät\")\n    print(\"5) Analysoi tuntikohtaiset palautukset\")\n    print(\"6) Analysoi aikavälien palautukset\")\n    print(\"0) Lopeta\")\n    while(True):\n        try:\n            valinta = int(input(\"Valintasi: \"))\n            break\n        except Exception:\n            print(\"Anna valinta kokonaislukuna.\")\n    return valinta\n\ndef paaohjelma():\n    lista = [] # Alustukset ja alkutoimenpiteet\n    analyysi = []\n    opiskelijat = {}\n    tehtavat = {}\n\n    while (True):\n        valinta = valikko()\n        if valinta == 1:\n            lista = HTTavoiteKirjasto.Lue(lista)\n        elif valinta == 2:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Analyysi(lista, analyysi)\n        elif valinta == 3:\n            if len(lista) == 0:\n                print(\"Ei tietoja tallennettavaksi, analysoi tiedot ennen tallennusta.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Tallenna(analyysi)\n        elif valinta == 4:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Palautus(lista, opiskelijat, tehtavat)\n        elif valinta == 5:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                tuntimatriisi = numpy.zeros((VIIKKOJA, TUNTEJA), int)\n                HTTavoiteKirjasto.Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA)\n                numpy.delete(tuntimatriisi, numpy.s_[:], None) # Tuhoaa matriisin käytön jälkeen.\n        elif valinta == 6:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                viikkomatriisi = numpy.zeros((VIIKKOJA, PAIVIA), int)\n                HTTavoiteKirjasto.Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA)\n                numpy.delete(viikkomatriisi, numpy.s_[:], None)\n        elif valinta == 0:\n            lista.clear()\n            analyysi.clear()\n            opiskelijat.clear()\n            tehtavat.clear()\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\" + '\\n')\n            print(\"Anna uusi valinta.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n    return None\n\npaaohjelma()\n\n#eof\n"
            },
            {
                "file_name": "HTTavoiteKirjasto.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTPerusKirjasto.py\n\nimport sys\nimport numpy\nimport datetime\n\n__version__ = \"1.2\"\n\nclass TIEDOT():\n    pvm = str\n    optunnus = str\n    tehtava = str\n\nclass TULOKSET():\n    teht = str\n    tehtnro = str\n\ndef Lue(lista):\n    try:\n        lista1 = [] # Tilapäislista\n        lista.clear()  # Tyhjennetään lista ennen lukua.\n        rfile = input(\"Anna luettavan tiedoston nimi: \")\n        luettava = open(rfile, \"r\", encoding=\"utf-8\")\n        luettava.readline()  # Lukee otsikkorivim pois.\n        n = 0  # Ilmoittaa rivimäärän.\n        for rivi in luettava:\n            n = n + 1\n            rivi = rivi.strip()\n            lista1 = rivi.split(';')\n            data = TIEDOT()\n            data.pvm = datetime.datetime.strptime(lista1[0], \"%d-%m-%Y %H:%M:%S\")\n            data.optunnus = lista1[1]\n            data.tehtava = lista1[2]\n            lista.append(data)\n        print(f\"Tiedostosta '{rfile}' luettiin listaan {n} datarivin tiedot.\" + '\\n')\n        luettava.close()\n        lista1.clear()\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{rfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return lista\n\ndef Analyysi(lista, analyysi):\n    lista2 = []\n    lista3 = []\n    analyysi.clear()\n\n    for data in lista:  # Ajetaan tehtäväkohtainen lista.\n        lista2.append(data.tehtava)\n        \n    alkio = lista2[0]\n    k = 0  # Laskee eri tehtävien lm.\n    tn = 0  # Tehtäväkohtainen numero.\n    n = 0  # Rivi-indikaattori\n\n    for rivi in lista2:  # Lasketaan tehtäväkohtainen data listaan.\n        n = n + 1\n        if alkio != rivi:\n            tulos = TULOKSET()\n            tulos.teht = alkio\n            tulos.tehtnro = tn\n            lista3.append(tulos)\n            alkio = rivi\n            k = k + 1\n            tn = 0\n        if n == len(lista2):\n            tulos = TULOKSET()\n            tulos.teht = (lista2[n-1])\n            tulos.tehtnro = tn + 1\n            lista3.append(tulos)\n            k = k + 1\n        else:\n            tn = tn + 1\n\n    for rivi in lista3:  # Ääriarvovertailun pohjatiedot\n        suurin = rivi.tehtnro\n        pienin = rivi.tehtnro\n        suurinteht = rivi.teht\n        pieninteht = rivi.teht\n        break\n\n    for rivi in lista3:  \n        if rivi.tehtnro > suurin: # Suuremmuusvertailu.\n            suurin = rivi.tehtnro\n            suurinteht = rivi.teht\n        if rivi.tehtnro < pienin: # Pienemmyysvertailu.\n            pienin = rivi.tehtnro\n            pieninteht = rivi.teht\n\n    # Viimeistelty analyysi\n    analyysi.append(f\"Palautuksia tuli yhteensä {len(lista2)}, {k} eri tehtävään.\")\n    analyysi.append(f\"Viikkotehtäviin tuli keskimäärin {int(len(lista2) / k)} palautusta.\")\n    analyysi.append(f\"Eniten palautuksia, {suurin}, tuli viikkotehtävään {suurinteht}.\")\n    analyysi.append(f\"Vähiten palautuksia, {pienin}, tuli viikkotehtävään {pieninteht}.\")\n    analyysi.append(\"\")\n    analyysi.append(\"Tehtävä;Lukumäärä\")\n    for rivi in lista3:\n        analyysi.append(f\"{rivi.teht};{rivi.tehtnro}\")\n\n    print(f\"Analysoitu {len(lista2)} palautusta {k} eri tehtävään.\")\n    print(\"Tilastotiedot analysoitu.\" + '\\n')\n    lista2.clear()\n    lista3.clear()\n    print(\"Anna uusi valinta.\")\n    return analyysi\n\ndef Tallenna(analyysi):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        for rivi in analyysi:\n            kirjoitettava.write(rivi + '\\n')\n            print(rivi)\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef Palautus(lista, opiskelijat, tehtavat):\n    for data in lista: # Laskee opiskelijakohtaisen palautusmäärän\n        if data.optunnus not in opiskelijat:\n            opiskelijat[data.optunnus] = 1\n        else:\n            opiskelijat[data.optunnus] += 1\n    for i in range(0,61):\n        tehtavat[i] = 0\n    for n in opiskelijat.values():\n        tehtavat[n] += 1\n    print(\"Tehtäväkohtaiset pisteet analysoitu.\")\n    TallennaPalautus(tehtavat)  # Tallennuskutsu\n    opiskelijat.clear()\n    tehtavat.clear()\n    return None\n\ndef Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        TUNTI = int(data.pvm.strftime(\"%H\"))\n        tuntimatriisi[VIIKKO - 1][TUNTI] += 1\n    print(\"Tuntikohtaiset palautukset analysoitu.\")\n    TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA)\n    return None\n\ndef Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        PALAIKA = data.pvm\n        ALKAIKA = datetime.datetime.strptime('01.09.2020 06:00:00', \"%d.%m.%Y %H:%M:%S\")\n        AIKAERO = PALAIKA - ALKAIKA\n        if VIIKKO == 7: # Poikkeustilanne\n            PAIVA = int(int(AIKAERO.days) / 2 % 7)\n        else:\n            PAIVA = int(AIKAERO.days) % 7\n        viikkomatriisi[VIIKKO - 1][PAIVA] += 1\n    print(\"Aikavälikohtaiset palautukset analysoitu.\")\n    TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA)\n    return None\n\ndef TallennaPalautus(tehtavat):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Pistemäärä;Opiskelijoita\" + '\\n')\n        for teht, maar in tehtavat.items():\n            kirjoitettava.write(f\"{teht};{maar}\" + '\\n')\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Tunti;\")\n        for tunti in range(TUNTEJA):\n            if tunti == (TUNTEJA - 1):\n                kirjoitettava.write(f\"{TUNTEJA-1}\" + '\\n')\n            else:\n                kirjoitettava.write(f\"{tunti};\")\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for tunti in range(1, (TUNTEJA + 1)):\n                if tunti == TUNTEJA:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Aikaväli;\")\n        for paiva in range(PAIVIA):\n            if paiva == (PAIVIA - 1):\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")}' + '\\n')\n            else:\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")};')\n                ALKAIKA = ALKAIKA + datetime.timedelta(days = 1)\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for paiva in range(PAIVIA):\n                if paiva == (PAIVIA - 1):\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\n#eof\n"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        }
                    ],
                    "file_name": "HTTavoiteKirjasto.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 36: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 65,
                            "msg": "Rivi 47: Aliohjelman 'paaohjelma' lopusta puuttuu return-komento.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6"
                        },
                        {
                            "end": 45,
                            "msg": "Rivi 73: return-komennosta puuttuu paluuarvo.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "AR6-3"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 71: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        }
                    ],
                    "file_name": "HTTavoite.py"
                }
            ]
        },
        "createdAt": "2024-09-28 21:28:32.501000",
        "__v": 0
    },
    {
        "_id": "66f6b30080a524b527d91d47",
        "email": "Testaaja1@noemail.com",
        "roles": [
            "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor"
        ],
        "course_id": "19288",
        "resource_title": "ASPA",
        "selected_analysis": {
            "basic": 1,
            "function": 1,
            "file_handling": 1,
            "data_structure": 1,
            "library": 1,
            "exception_handling": 1
        },
        "analysis_type": "default",
        "analysis_lang": "FIN",
        "analysis_files": [
            {
                "file_name": "HTTavoite.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTTavoite.py\n\nimport numpy\nimport HTTavoiteKirjasto\n\nVIIKKOJA = 14 # Kiintoarvot (config)\nTUNTEJA = 24\nPAIVIA = 7\n\ndef valikko():\n    print(\"Mitä haluat tehdä:\")\n    print(\"1) Lue tiedosto\")\n    print(\"2) Analysoi palautukset\")\n    print(\"3) Tallenna tulokset\")\n    print(\"4) Analysoi opiskelijoiden palautusmäärät\")\n    print(\"5) Analysoi tuntikohtaiset palautukset\")\n    print(\"6) Analysoi aikavälien palautukset\")\n    print(\"0) Lopeta\")\n    while(True):\n        try:\n            valinta = int(input(\"Valintasi: \"))\n            break\n        except Exception:\n            print(\"Anna valinta kokonaislukuna.\")\n    return valinta\n\ndef paaohjelma():\n    lista = [] # Alustukset ja alkutoimenpiteet\n    analyysi = []\n    opiskelijat = {}\n    tehtavat = {}\n\n    while (True):\n        valinta = valikko()\n        if valinta == 1:\n            lista = HTTavoiteKirjasto.Lue(lista)\n        elif valinta == 2:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Analyysi(lista, analyysi)\n        elif valinta == 3:\n            if len(lista) == 0:\n                print(\"Ei tietoja tallennettavaksi, analysoi tiedot ennen tallennusta.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Tallenna(analyysi)\n        elif valinta == 4:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                HTTavoiteKirjasto.Palautus(lista, opiskelijat, tehtavat)\n        elif valinta == 5:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                tuntimatriisi = numpy.zeros((VIIKKOJA, TUNTEJA), int)\n                HTTavoiteKirjasto.Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA)\n                numpy.delete(tuntimatriisi, numpy.s_[:], None) # Tuhoaa matriisin käytön jälkeen.\n        elif valinta == 6:\n            if len(lista) == 0:\n                print(\"Ei tietoja analysoitavaksi, lue tiedot ennen analyysiä.\" + '\\n')\n                print(\"Anna uusi valinta.\")\n            else:\n                viikkomatriisi = numpy.zeros((VIIKKOJA, PAIVIA), int)\n                HTTavoiteKirjasto.Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA)\n                numpy.delete(viikkomatriisi, numpy.s_[:], None)\n        elif valinta == 0:\n            lista.clear()\n            analyysi.clear()\n            opiskelijat.clear()\n            tehtavat.clear()\n            break\n        else:\n            print(\"Tuntematon valinta, yritä uudestaan.\" + '\\n')\n            print(\"Anna uusi valinta.\")\n    print(\"Kiitos ohjelman käytöstä.\")\n    return None\n\npaaohjelma()\n\n#eof\n"
            },
            {
                "file_name": "HTTavoiteKirjasto.py",
                "python_code": "######################################################################\n# CT60A0203 Ohjelmoinnin perusteet\n# Tekijä: Testaaja1@noemail.com\n# Opiskelijanumero: 0000000\n# Päivämäärä: 13.12.2021\n# Kurssin oppimateriaalien lisäksi työhön ovat vaikuttaneet seuraavat \n# lähteet ja henkilöt, ja se näkyy tehtävässä seuraavalla tavalla:\n# \n# Mahdollisen vilppiselvityksen varalta vakuutan, että olen tehnyt itse \n# tämän tehtävän ja vain yllä mainitut henkilöt sekä lähteet ovat\n# vaikuttaneet siihen yllä mainituilla tavoilla.\n######################################################################\n# Tehtävä HTPerusKirjasto.py\n\nimport sys\nimport numpy\nimport datetime\n\n__version__ = \"1.2\"\n\nclass TIEDOT():\n    pvm = str\n    optunnus = str\n    tehtava = str\n\nclass TULOKSET():\n    teht = str\n    tehtnro = str\n\ndef Lue(lista):\n    try:\n        lista1 = [] # Tilapäislista\n        lista.clear()  # Tyhjennetään lista ennen lukua.\n        rfile = input(\"Anna luettavan tiedoston nimi: \")\n        luettava = open(rfile, \"r\", encoding=\"utf-8\")\n        luettava.readline()  # Lukee otsikkorivim pois.\n        n = 0  # Ilmoittaa rivimäärän.\n        for rivi in luettava:\n            n = n + 1\n            rivi = rivi.strip()\n            lista1 = rivi.split(';')\n            data = TIEDOT()\n            data.pvm = datetime.datetime.strptime(lista1[0], \"%d-%m-%Y %H:%M:%S\")\n            data.optunnus = lista1[1]\n            data.tehtava = lista1[2]\n            lista.append(data)\n        print(f\"Tiedostosta '{rfile}' luettiin listaan {n} datarivin tiedot.\" + '\\n')\n        luettava.close()\n        lista1.clear()\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{rfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return lista\n\ndef Analyysi(lista, analyysi):\n    lista2 = []\n    lista3 = []\n    analyysi.clear()\n\n    for data in lista:  # Ajetaan tehtäväkohtainen lista.\n        lista2.append(data.tehtava)\n        \n    alkio = lista2[0]\n    k = 0  # Laskee eri tehtävien lm.\n    tn = 0  # Tehtäväkohtainen numero.\n    n = 0  # Rivi-indikaattori\n\n    for rivi in lista2:  # Lasketaan tehtäväkohtainen data listaan.\n        n = n + 1\n        if alkio != rivi:\n            tulos = TULOKSET()\n            tulos.teht = alkio\n            tulos.tehtnro = tn\n            lista3.append(tulos)\n            alkio = rivi\n            k = k + 1\n            tn = 0\n        if n == len(lista2):\n            tulos = TULOKSET()\n            tulos.teht = (lista2[n-1])\n            tulos.tehtnro = tn + 1\n            lista3.append(tulos)\n            k = k + 1\n        else:\n            tn = tn + 1\n\n    for rivi in lista3:  # Ääriarvovertailun pohjatiedot\n        suurin = rivi.tehtnro\n        pienin = rivi.tehtnro\n        suurinteht = rivi.teht\n        pieninteht = rivi.teht\n        break\n\n    for rivi in lista3:  \n        if rivi.tehtnro > suurin: # Suuremmuusvertailu.\n            suurin = rivi.tehtnro\n            suurinteht = rivi.teht\n        if rivi.tehtnro < pienin: # Pienemmyysvertailu.\n            pienin = rivi.tehtnro\n            pieninteht = rivi.teht\n\n    # Viimeistelty analyysi\n    analyysi.append(f\"Palautuksia tuli yhteensä {len(lista2)}, {k} eri tehtävään.\")\n    analyysi.append(f\"Viikkotehtäviin tuli keskimäärin {int(len(lista2) / k)} palautusta.\")\n    analyysi.append(f\"Eniten palautuksia, {suurin}, tuli viikkotehtävään {suurinteht}.\")\n    analyysi.append(f\"Vähiten palautuksia, {pienin}, tuli viikkotehtävään {pieninteht}.\")\n    analyysi.append(\"\")\n    analyysi.append(\"Tehtävä;Lukumäärä\")\n    for rivi in lista3:\n        analyysi.append(f\"{rivi.teht};{rivi.tehtnro}\")\n\n    print(f\"Analysoitu {len(lista2)} palautusta {k} eri tehtävään.\")\n    print(\"Tilastotiedot analysoitu.\" + '\\n')\n    lista2.clear()\n    lista3.clear()\n    print(\"Anna uusi valinta.\")\n    return analyysi\n\ndef Tallenna(analyysi):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        for rivi in analyysi:\n            kirjoitettava.write(rivi + '\\n')\n            print(rivi)\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef Palautus(lista, opiskelijat, tehtavat):\n    for data in lista: # Laskee opiskelijakohtaisen palautusmäärän\n        if data.optunnus not in opiskelijat:\n            opiskelijat[data.optunnus] = 1\n        else:\n            opiskelijat[data.optunnus] += 1\n    for i in range(0,61):\n        tehtavat[i] = 0\n    for n in opiskelijat.values():\n        tehtavat[n] += 1\n    print(\"Tehtäväkohtaiset pisteet analysoitu.\")\n    TallennaPalautus(tehtavat)  # Tallennuskutsu\n    opiskelijat.clear()\n    tehtavat.clear()\n    return None\n\ndef Tunti(lista, tuntimatriisi, VIIKKOJA, TUNTEJA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        TUNTI = int(data.pvm.strftime(\"%H\"))\n        tuntimatriisi[VIIKKO - 1][TUNTI] += 1\n    print(\"Tuntikohtaiset palautukset analysoitu.\")\n    TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA)\n    return None\n\ndef Aika(lista, viikkomatriisi, VIIKKOJA, PAIVIA):\n    for data in lista:\n        VIIKKO = int(data.tehtava[1:3])\n        PALAIKA = data.pvm\n        ALKAIKA = datetime.datetime.strptime('01.09.2020 06:00:00', \"%d.%m.%Y %H:%M:%S\")\n        AIKAERO = PALAIKA - ALKAIKA\n        if VIIKKO == 7: # Poikkeustilanne\n            PAIVA = int(int(AIKAERO.days) / 2 % 7)\n        else:\n            PAIVA = int(AIKAERO.days) % 7\n        viikkomatriisi[VIIKKO - 1][PAIVA] += 1\n    print(\"Aikavälikohtaiset palautukset analysoitu.\")\n    TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA)\n    return None\n\ndef TallennaPalautus(tehtavat):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Pistemäärä;Opiskelijoita\" + '\\n')\n        for teht, maar in tehtavat.items():\n            kirjoitettava.write(f\"{teht};{maar}\" + '\\n')\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaTunti(tuntimatriisi, VIIKKOJA, TUNTEJA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Tunti;\")\n        for tunti in range(TUNTEJA):\n            if tunti == (TUNTEJA - 1):\n                kirjoitettava.write(f\"{TUNTEJA-1}\" + '\\n')\n            else:\n                kirjoitettava.write(f\"{tunti};\")\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for tunti in range(1, (TUNTEJA + 1)):\n                if tunti == TUNTEJA:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{tuntimatriisi[viikko - 1][tunti - 1]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\ndef TallennaAika(viikkomatriisi, VIIKKOJA, PAIVIA, ALKAIKA):\n    try:\n        wfile = input(\"Anna kirjoitettavan tiedoston nimi: \")\n        kirjoitettava = open(wfile, \"w\", encoding=\"utf-8\")\n        kirjoitettava.write(\"Aikaväli;\")\n        for paiva in range(PAIVIA):\n            if paiva == (PAIVIA - 1):\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")}' + '\\n')\n            else:\n                kirjoitettava.write(f'{ALKAIKA.strftime(\"%a %H:%M\")};')\n                ALKAIKA = ALKAIKA + datetime.timedelta(days = 1)\n        for viikko in range(1, (VIIKKOJA + 1)):\n            kirjoitettava.write(f\"Vko {viikko};\")\n            for paiva in range(PAIVIA):\n                if paiva == (PAIVIA - 1):\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]}\" + '\\n')\n                else:\n                    kirjoitettava.write(f\"{viikkomatriisi[viikko - 1][paiva]};\")\n        kirjoitettava.close()\n        print(f\"Tulokset tallennettu tiedostoon '{wfile}'.\" + '\\n')\n        print(\"Anna uusi valinta.\")\n    except Exception:\n        print(f\"Tiedoston '{wfile}' käsittelyssä virhe, lopetetaan.\")\n        sys.exit(0)\n    return None\n\n#eof\n"
            }
        ],
        "analysis_result": {
            "results": [
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        }
                    ],
                    "file_name": "HTTavoiteKirjasto.py"
                },
                {
                    "analysis_results": [
                        {
                            "end": 48,
                            "msg": "Perustoiminnot: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 45,
                            "msg": "Aliohjelmat: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 12
                        },
                        {
                            "end": 52,
                            "msg": "Tiedostonkäsittely: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 19
                        },
                        {
                            "end": 48,
                            "msg": "Tietorakenteet: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 15
                        },
                        {
                            "end": 50,
                            "msg": "Kirjaston käyttö: Ei tunnistettu tyylirikkomuksia.",
                            "severity": 4,
                            "start": 17
                        },
                        {
                            "end": 86,
                            "msg": "Poikkeustenkäsittely, tyylirikkeitä havaittu, ole hyvä ja katso Liite 5 'Poikkeukset':",
                            "severity": 0,
                            "start": 21
                        },
                        {
                            "end": 40,
                            "msg": "Rivi 36: Palautetaan useita paluuarvoja.",
                            "severity": 3,
                            "start": 9,
                            "violation_id": "AR6-5"
                        },
                        {
                            "end": 62,
                            "msg": "Rivi 71: Komento vaikuttaisi olevan väärässä kohdin tiedostoa.",
                            "severity": 2,
                            "start": 9,
                            "violation_id": "MR1"
                        }
                    ],
                    "file_name": "HTTavoite.py"
                }
            ]
        },
        "createdAt": "2024-09-29 21:28:32.501000",
        "__v": 0
    }
]